# Logfile created on Thu Oct 08 15:39:01 +0400 2009  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (28.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (18.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (174.3ms)[0m   [0;1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;36;1mSQL (15.2ms)[0m   [0;1mCREATE TABLE "users" ("id" serial primary key, "login" character varying(255) NOT NULL, "email" character varying(255) DEFAULT E'' NOT NULL, "active" boolean DEFAULT 'f' NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "perishable_token" character varying(255) DEFAULT E'' NOT NULL, "persistence_token" character varying(255) NOT NULL, "crypted_password" character varying(255), "password_salt" character varying(255), "last_request_at" timestamp, "last_login_at" timestamp, "current_login_at" timestamp, "last_login_ip" character varying(255), "current_login_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (7.8ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "roles_users" ("user_id" integer, "role_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCREATE INDEX "index_roles_users_on_user_id_and_role_id" ON "roles_users" ("user_id", "role_id")[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [4;36;1mSQL (115.0ms)[0m   [0;1mCREATE TABLE "roles" ("id" serial primary key, "name" character varying(40), "authorizable_type" character varying(40), "authorizable_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE INDEX "index_roles_on_authorizable_type_and_authorizable_id" ON "roles" ("authorizable_type", "authorizable_id")[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090101010101')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (3.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (19.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.7ms)[0m   [0;1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;36;1mSQL (15.7ms)[0m   [0;1mCREATE TABLE "users" ("id" serial primary key, "login" character varying(255) NOT NULL, "email" character varying(255) DEFAULT E'' NOT NULL, "active" boolean DEFAULT 'f' NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "perishable_token" character varying(255) DEFAULT E'' NOT NULL, "persistence_token" character varying(255) NOT NULL, "crypted_password" character varying(255), "password_salt" character varying(255), "last_request_at" timestamp, "last_login_at" timestamp, "current_login_at" timestamp, "last_login_ip" character varying(255), "current_login_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "roles_users" ("user_id" integer, "role_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE INDEX "index_roles_users_on_user_id_and_role_id" ON "roles_users" ("user_id", "role_id")[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [4;36;1mSQL (9.4ms)[0m   [0;1mCREATE TABLE "roles" ("id" serial primary key, "name" character varying(40), "authorizable_type" character varying(40), "authorizable_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE INDEX "index_roles_on_authorizable_type_and_authorizable_id" ON "roles" ("authorizable_type", "authorizable_id")[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090101010101')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (8.8ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (1.6ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'site_admin', '2009-10-08 11:52:31.946193', NULL, '2009-10-08 11:52:31.946193', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.4ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 1) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'admin@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'e4411551727f5cbfe885d8af99d1c1e9297ba520e0d4e11b8c48c2c749c09bcbf88f2b434359555ca320ea92770ee00d1140ecb9b13c38263512fcde378d2e27') LIMIT 1[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 11:52:32.311476', E'2abc8901aa48cb5e2e40a17d2cc6d6e9b14e340c1eeb2718a65476c484862d1ec898bcaca77936ae0962a362da9a3c473bc91311493aad419c5da811c54674ad', E'DDF-cfVYR5d2LDkXPE8S', '2009-10-08 11:52:32.311476', NULL, E'y6dqkJNdy49JjxxBy8yf', NULL, 0, E'e4411551727f5cbfe885d8af99d1c1e9297ba520e0d4e11b8c48c2c749c09bcbf88f2b434359555ca320ea92770ee00d1140ecb9b13c38263512fcde378d2e27', NULL, E'admin', NULL, E'admin@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: column "id" does not exist
LINE 1: ....325018', '2009-10-08 11:52:32.325018', 1, 1) RETURNING "id"
 ^
: INSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 11:52:32.325018', '2009-10-08 11:52:32.325018', 1, 1) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (3.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'site_admin', '2009-10-08 11:57:19.934768', NULL, '2009-10-08 11:57:19.934768', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.3ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'admin@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'admin') LIMIT 1[0m
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'cc41308ec215645a01ea378f271dd6bef7589516bbc0806625f1b924c458a2c81ce28be4adb5dc6b0d74098210e0b80632d8c999c71c58b82b648681cdfecfd5') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 11:57:20.254066', E'19e7c5ccdd1c998b7d099a02dfe4a0f471a0477036f1a27aaab0e35a71e22bdf34640e9c95052c57fc565ca509e55e19c56e57a0cf5c5acc3cd8dfb913d9146b', E'SIVutm3nPOnBJNHfAalq', '2009-10-08 11:57:20.254066', NULL, E'LMdoPY-LtQ_-iQkOvFCb', NULL, 0, E'cc41308ec215645a01ea378f271dd6bef7589516bbc0806625f1b924c458a2c81ce28be4adb5dc6b0d74098210e0b80632d8c999c71c58b82b648681cdfecfd5', NULL, E'admin', NULL, E'admin@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: column "id" does not exist
LINE 1: ....270279', '2009-10-08 11:57:20.270279', 2, 2) RETURNING "id"
 ^
: INSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 11:57:20.270279', '2009-10-08 11:57:20.270279', 2, 2) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090101010102')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateUserEmails (20090202020202)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (20.0ms)[0m   [0mCREATE TABLE "user_emails" ("id" serial primary key, "user_id" integer NOT NULL, "new_email" character varying(100) NOT NULL, "old_email" character varying(100) NOT NULL, "request_code" character varying(255) NOT NULL, "request_expiration_date" timestamp NOT NULL, "confirmed_at" timestamp, "status" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (7.8ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_user_id" ON "user_emails" ("user_id")[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE INDEX "index_user_emails_on_request_code" ON "user_emails" ("request_code")[0m
  [4;36;1mSQL (15.5ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_request_expiration_date" ON "user_emails" ("request_expiration_date")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202020202')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:01:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'zh-HK'
Rendering template within layouts/application
Rendering home/index
Completed in 276ms (View: 219, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:01:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home", "locale"=>"en-US"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 91ms (View: 42, DB: 4) | 200 OK [http://localhost/?locale=en-US]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-08 16:01:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering users/new
Completed in 226ms (View: 31, DB: 4) | 200 OK [http://localhost/account/new]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-08 16:04:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering users/new
Completed in 183ms (View: 24, DB: 5) | 200 OK [http://localhost/account/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-08 16:04:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering users/new
Completed in 285ms (View: 73, DB: 2) | 200 OK [http://localhost/account/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-08 16:05:31) [POST]
  Parameters: {"commit"=>"Register", "action"=>"create", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"vladchi", "email"=>"l5l5l5l5l5l5l@gmail.com"}}
Locale set to 'en-US'
  [4;36;1mSQL (2.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'l5l5l5l5l5l5l@gmail.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vladchi') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'eba5d601f30bdbbc2dcb2dcaf9ffa5f22e938ad9fc91b53c6f354bcd78e124dbcae3987582c6ae804a900143d0cceb2a0ceea3d02b4851e77bb76b0f90d31a14') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering users/new
Completed in 485ms (View: 42, DB: 19) | 200 OK [http://localhost/account]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-08 16:05:44) [POST]
  Parameters: {"commit"=>"Register", "action"=>"create", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"vladchi", "email"=>"l5l5l5l5l5l5l@gmail.com"}}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'l5l5l5l5l5l5l@gmail.com') LIMIT 1[0m
  [4;35;1mUser Load (3.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vladchi') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES('2009-10-08 12:05:44.776906', '2009-10-08 12:05:44.778253', E'a9477bf7696e8aedd2fc4f7227f4de34d873fa8463deea41ca036b60482ce0e8d59b470c6cd2036eba3b48cecaecd7a8a30b26a8e82ee840a2a496cd27936523', E'87OZNDmziZLahesTUyEe', '2009-10-08 12:05:44.778253', E'127.0.0.1', E'DJA7EpxdOIiydvK8tps9', '2009-10-08 12:05:44.493042', 1, E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1', NULL, E'vladchi', NULL, E'l5l5l5l5l5l5l@gmail.com', 't') RETURNING "id"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 515ms (DB: 14) | 302 Found [http://localhost/account]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:05:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:45.185789', "perishable_token" = E'VrTxstC2bgudP3UpfDl7', "last_request_at" = '2009-10-08 12:05:45.181887' WHERE "id" = 3[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 145ms (View: 86, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 16:05:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:53.365342', "perishable_token" = E'GAVU1zNHTPgDMpDQOQ1w', "last_request_at" = '2009-10-08 12:05:53.363597' WHERE "id" = 3[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRole Load (1.2ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (3.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."name" = E'site_admin') AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 3))[0m
Redirected to http://localhost:3000/
Filter chain halted as [:check_permission] rendered_or_redirected.
Completed in 181ms (DB: 15) | 302 Found [http://localhost/admin/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:05:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:53.664255', "perishable_token" = E'qdELrIRDQj00bhO-EGjR', "last_request_at" = '2009-10-08 12:05:53.662467' WHERE "id" = 3[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Completed in 129ms (View: 70, DB: 11) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 16:05:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:56.440006', "perishable_token" = E'T2rMdHzcA0w8QBRcRK94', "last_request_at" = '2009-10-08 12:05:56.436943' WHERE "id" = 3[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRole Load (1.4ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (1.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."name" = E'site_admin') AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (1.7ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 3))[0m
Redirected to http://localhost:3000/
Filter chain halted as [:check_permission] rendered_or_redirected.
Completed in 179ms (DB: 25) | 302 Found [http://localhost/admin/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:05:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:56.778706', "perishable_token" = E'4UIDX0-aOkGXAn7hlTvL', "last_request_at" = '2009-10-08 12:05:56.776877' WHERE "id" = 3[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 141ms (View: 84, DB: 12) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 16:05:57) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:05:57.846595', "perishable_token" = E'21qiCmyeIR6vjvHhur7-', "last_request_at" = '2009-10-08 12:05:57.842506' WHERE "id" = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 3))[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 3 AND "roles".authorizable_type = E'User')[0m
Completed in 249ms (View: 83, DB: 12) | 200 OK [http://localhost/account/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 16:06:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:06:01.887992', "perishable_token" = E'GWgpm9QbKILjbunNaYBH', "last_request_at" = '2009-10-08 12:06:01.886083' WHERE "id" = 3[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRole Load (1.2ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (2.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."name" = E'site_admin') AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 3))[0m
Redirected to http://localhost:3000/
Filter chain halted as [:check_permission] rendered_or_redirected.
Completed in 357ms (DB: 15) | 302 Found [http://localhost/admin/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:06:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:06:02.413926', "perishable_token" = E'c3iX_d_IoypVdAtPYS9L', "last_request_at" = '2009-10-08 12:06:02.408964' WHERE "id" = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 133ms (View: 74, DB: 11) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-10-08 16:36:15) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = E'636c076811c26441fc19d8742ff058d8c4fc2142c9f81e69eed55e80734eda35c997ce9dfee346afee92a1b5777ec631e7c748f30f29c010f7136f86b8d373f1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:36:15.771440', "perishable_token" = E'MwZSJuZvnzbZYSjZPvPF', "last_request_at" = '2009-10-08 12:36:15.768484' WHERE "id" = 3[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/user_session/new
Completed in 269ms (DB: 13) | 302 Found [http://localhost/user_session]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 16:36:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 204ms (View: 57, DB: 9) | 200 OK [http://localhost/user_session/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 16:36:20) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vlad@supercoolschool.com"}, "action"=>"create", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = E'vlad@supercoolschool.com') LIMIT 1[0m
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = E'vlad@supercoolschool.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 277ms (View: 42, DB: 8) | 200 OK [http://localhost/user_session]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 16:36:38) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"l5l5l5l5l5l5l@gmail.com"}, "action"=>"create", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (3.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = E'l5l5l5l5l5l5l@gmail.com') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = E'l5l5l5l5l5l5l@gmail.com') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "login_count" = 2, "updated_at" = '2009-10-08 12:36:38.555347', "perishable_token" = E'JGaN5StVUtEn4Ya_agXc', "last_request_at" = '2009-10-08 12:36:38.552836', "last_login_at" = '2009-10-08 12:05:44.493042', "last_login_ip" = E'127.0.0.1', "current_login_at" = '2009-10-08 12:36:38.552117' WHERE "id" = 3[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 130ms (DB: 11) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 16:36:38) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'3') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 12:36:38.791904', "perishable_token" = E'xtyAYlI3Q0g3KeJ3XmGZ', "last_request_at" = '2009-10-08 12:36:38.788002' WHERE "id" = 3[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (1.7ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 3))[0m
  [4;35;1mRole Load (1.5ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 3 AND "roles".authorizable_type = E'User')[0m
Completed in 350ms (View: 51, DB: 15) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-10-08 16:50:01) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'3') LIMIT 1[0m
  [4;35;1mSQL (7.8ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 12:50:01.647421', "perishable_token" = E'PxFEn9Ud4jBwLFBouk0X', "last_request_at" = '2009-10-08 12:50:01.638202' WHERE "id" = 3[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/user_session/new
Completed in 149ms (DB: 17) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 16:50:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 279ms (View: 44, DB: 6) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (12.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (19.5ms)[0m   [0;1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (15.7ms)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;36;1mSQL (16.4ms)[0m   [0;1mCREATE TABLE "users" ("id" serial primary key, "login" character varying(255) NOT NULL, "email" character varying(255) DEFAULT E'' NOT NULL, "active" boolean DEFAULT 'f' NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "perishable_token" character varying(255) DEFAULT E'' NOT NULL, "persistence_token" character varying(255) NOT NULL, "crypted_password" character varying(255), "password_salt" character varying(255), "last_request_at" timestamp, "last_login_at" timestamp, "current_login_at" timestamp, "last_login_ip" character varying(255), "current_login_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [4;35;1mSQL (10.4ms)[0m   [0mCREATE TABLE "roles_users" ("id" serial primary key, "user_id" integer, "role_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE INDEX "index_roles_users_on_user_id_and_role_id" ON "roles_users" ("user_id", "role_id")[0m
  [4;35;1mSQL (5.8ms)[0m   [0mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [4;36;1mSQL (7.7ms)[0m   [0;1mCREATE TABLE "roles" ("id" serial primary key, "name" character varying(40), "authorizable_type" character varying(40), "authorizable_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE INDEX "index_roles_on_authorizable_type_and_authorizable_id" ON "roles" ("authorizable_type", "authorizable_id")[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090101010101')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (2.7ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (1.6ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'site_admin', '2009-10-08 12:54:27.288888', NULL, '2009-10-08 12:54:27.288888', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (3.4ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 1) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'admin@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'408a6ed4a085267f80c08eb9468e389a728e9d5c5522c65c00aef1394493229726e56fcdec27217309bd6043b5ed6d5bfa7becd1f0a9358a368079c4a03c2b89') LIMIT 1[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 12:54:27.581176', E'21a0e912e467788efacd20880b0d8706b6d30a90ce192fda06afdbbe1139c536aae4fdd986f5620c0532cb5a01a74e24ec1dc47253f58115503975a65e678342', E'UfRpcXDzKby_DLqBuR3c', '2009-10-08 12:54:27.581176', NULL, E'lbqMzf-0FqAx2w4wZPF6', NULL, 0, E'408a6ed4a085267f80c08eb9468e389a728e9d5c5522c65c00aef1394493229726e56fcdec27217309bd6043b5ed6d5bfa7becd1f0a9358a368079c4a03c2b89', NULL, E'admin', NULL, E'admin@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 12:54:27.596692', '2009-10-08 12:54:27.596692', 1, 1) RETURNING "id"[0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'admin', '2009-10-08 12:54:27.611800', E'User', '2009-10-08 12:54:27.611800', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.0ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vchi@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vladchi') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'708ab7f8e2468031fc6affb533d2cd865482d7f9609422dededcdf5e1187b861ce483abaa7bc730ce31680c2957b2bb50e83cf005d7b67c512e243de7ff37abb') LIMIT 1[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 12:54:27.634699', E'28aaddeff2b9efbb2affbd68964d109eb54f30a1fe3791b33901c5be41f96c3e876f2279a42575ae2c5c597429097f278b46fe6c4e61b89c0c55362e626c83f3', E'A1Q-TW9zIFYwyng8MaRa', '2009-10-08 12:54:27.634699', NULL, E'NtC4S_h9Vxmy3R0BDfQU', NULL, 0, E'708ab7f8e2468031fc6affb533d2cd865482d7f9609422dededcdf5e1187b861ce483abaa7bc730ce31680c2957b2bb50e83cf005d7b67c512e243de7ff37abb', NULL, E'vladchi', NULL, E'vchi@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 12:54:27.644012', '2009-10-08 12:54:27.644012', 2, 2) RETURNING "id"[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'support@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'support') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'01503100362fb2f305e9c27e343960bc6db3fc4ecff579a5a8fe01e1e0c32c3a3e25d83125e36191f9805f0218e6dd432d3bcb702c91995b78faa5421117f560') LIMIT 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 12:54:27.665379', E'b4a1ed4e1e905326a6cb83edcc4b83d66f8fc82ce6315567134e25169a8ae6ebe10b22e29a6e109c4cd9e015da530bd12bc2104799e1d29fa19a38494d9cbb73', E'knIKeDX7FFD0c4pn0reF', '2009-10-08 12:54:27.665379', NULL, E'bJ6V58MP09UafElN0Tjp', NULL, 0, E'01503100362fb2f305e9c27e343960bc6db3fc4ecff579a5a8fe01e1e0c32c3a3e25d83125e36191f9805f0218e6dd432d3bcb702c91995b78faa5421117f560', NULL, E'support', NULL, E'support@example.com', 't') RETURNING "id"[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'support') LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'modulator' and authorizable_type = E'User' and authorizable_id = NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vistabean@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vistabean') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'5d3ae2b07d92aa1577c4b4d0e3a52254e08d92d9d3d177608a9a37de61be971ab9c5b1854aa4f23d75dd81480b24643219e742b5c310aea2db26e4c80be31cfc') LIMIT 1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 12:54:27.700970', E'e4096110d0ce1502464801386551053e09d281bf4382eb02a8d021a651add428b99b8d4f9cd4c60c1dfbce03220ab3fe31dfcafaa39821efac293d998bc1b549', E'bq6VOlUd9NIPGNFv5Rlb', '2009-10-08 12:54:27.700970', NULL, E'YcNsvIdloIagqd4KY2Ju', NULL, 0, E'5d3ae2b07d92aa1577c4b4d0e3a52254e08d92d9d3d177608a9a37de61be971ab9c5b1854aa4f23d75dd81480b24643219e742b5c310aea2db26e4c80be31cfc', NULL, E'vistabean', NULL, E'vistabean@example.com', 't') RETURNING "id"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'modulator', '2009-10-08 12:54:27.705202', E'User', '2009-10-08 12:54:27.705202', 4) RETURNING "id"[0m
  [4;35;1mRole Load (1.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 3) AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 12:54:27.715295', '2009-10-08 12:54:27.715295', 3, 3) RETURNING "id"[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 12:54:27.720679', "perishable_token" = E'vD5vZo2-NaWdt2osTD00' WHERE "id" = 4[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090101010102')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUserEmails (20090202020202)
  [4;36;1mSQL (1.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (32.7ms)[0m   [0mCREATE TABLE "user_emails" ("id" serial primary key, "user_id" integer NOT NULL, "new_email" character varying(100) NOT NULL, "old_email" character varying(100) NOT NULL, "request_code" character varying(255) NOT NULL, "request_expiration_date" timestamp NOT NULL, "confirmed_at" timestamp, "status" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_user_id" ON "user_emails" ("user_id")[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE INDEX "index_user_emails_on_request_code" ON "user_emails" ("request_code")[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_request_expiration_date" ON "user_emails" ("request_expiration_date")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202020202')[0m
  [4;36;1mSQL (101.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 16:54:43) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vchi@example.com"}, "action"=>"create", "authenticity_token"=>"Zzp8YcRNc+vNmZK4P/VlLKcS01IzKB+LQuXd0m2uhsw=", "controller"=>"user_sessions"}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  

Rendered rescues/_trace (91.6ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:54:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'zh-HK'
Rendering template within layouts/application
Rendering home/index
Completed in 240ms (View: 189, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 16:54:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home", "locale"=>"en-US"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 111ms (View: 54, DB: 6) | 200 OK [http://localhost/?locale=en-US]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 16:54:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 105ms (View: 17, DB: 6) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 16:55:49) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"eWoR3CRHXfJ5TGJ0iiqaPiRi8QhPj0XQ+7TFdyxlEfY=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.8ms)[0m   [0;1mUPDATE "users" SET "login_count" = 1, "current_login_ip" = E'127.0.0.1', "updated_at" = '2009-10-08 12:55:49.620148', "perishable_token" = E'gawhon6NvvMzDzkMNPuu', "last_request_at" = '2009-10-08 12:55:49.617229', "current_login_at" = '2009-10-08 12:55:49.473176' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 465ms (DB: 23) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 16:55:49) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (3.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (48.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 12:55:49.938499', "perishable_token" = E'J-ZALrWAS31ddE0_FoG5', "last_request_at" = '2009-10-08 12:55:49.936861' WHERE "id" = 2[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (1.9ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (2.9ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 407ms (View: 202, DB: 64) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 16:56:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;36;1mUser Load (3.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 12:56:05.989447', "perishable_token" = E'Kz-9D9BrC5Kvjo0pJ4z_', "last_request_at" = '2009-10-08 12:56:05.987719' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mRole Load (1.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mRole Load (1.5ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = 2)) LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" LIMIT 10[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT count("users".id) AS count_id FROM "users"[0m
Rendering template within layouts/application
Rendering admin/users/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count("users".id) AS count_id FROM "users"[0m
Rendered admin/users/_users (55.1ms)
Completed in 482ms (View: 122, DB: 15) | 200 OK [http://localhost/admin/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
Migrating to CreateUserEmails (20090202020202)
Migrating to CreateLocations (20091008133420)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (29.8ms)[0m   [0;1mCREATE TABLE "locations" ("id" serial primary key, "locatable_type" character varying(255), "locatable_id" integer, "lat" float, "lng" float, "country" character varying(255), "state" character varying(255), "city" character varying(255), "address_line" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008133420')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
Migrating to CreateUserEmails (20090202020202)
Migrating to CreateLocations (20091008133420)
Migrating to CreatePostings (20091008134246)
  [4;35;1mSQL (18.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mCREATE TABLE "postings" ("id" serial primary key, "title" character varying(255), "description" text, "posting_type_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008134246')[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePostingTypes (20091008135023)
  [4;35;1mSQL (1.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (34.7ms)[0m   [0;1mCREATE TABLE "posting_types" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135023')[0m
  [4;36;1mSQL (23.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
Migrating to CreateUserEmails (20090202020202)
Migrating to CreateLocations (20091008133420)
Migrating to CreatePostings (20091008134246)
Migrating to CreatePostingTypes (20091008135023)
Migrating to CreateCategories (20091008135129)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.6ms)[0m   [0;1mCREATE TABLE "categories" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135129')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateCategoriesPostings (20091008135148)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.9ms)[0m   [0;1mCREATE TABLE "categories_postings" ("id" serial primary key, "category_id" integer, "posting_id" integer) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135148')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
Migrating to CreateUserEmails (20090202020202)
Migrating to CreateLocations (20091008133420)
Migrating to CreatePostings (20091008134246)
Migrating to CreatePostingTypes (20091008135023)
Migrating to CreateCategories (20091008135129)
Migrating to CreateCategoriesPostings (20091008135148)
Migrating to AddPhotoToPostings (20091008135542)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_name" character varying(255)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_content_type" character varying(255)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_size" integer[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_updated_at" timestamp[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091008135542')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
Migrating to InitialSetupUsers (20090101010102)
Migrating to CreateUserEmails (20090202020202)
Migrating to CreateLocations (20091008133420)
Migrating to CreatePostings (20091008134246)
Migrating to CreatePostingTypes (20091008135023)
Migrating to CreateCategories (20091008135129)
Migrating to CreateCategoriesPostings (20091008135148)
Migrating to AddPhotoToPostings (20091008135542)
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (18.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
  [4;35;1mSQL (1.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (6.3ms)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;36;1mSQL (28.4ms)[0m   [0;1mCREATE TABLE "users" ("id" serial primary key, "login" character varying(255) NOT NULL, "email" character varying(255) DEFAULT E'' NOT NULL, "active" boolean DEFAULT 'f' NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "perishable_token" character varying(255) DEFAULT E'' NOT NULL, "persistence_token" character varying(255) NOT NULL, "crypted_password" character varying(255), "password_salt" character varying(255), "last_request_at" timestamp, "last_login_at" timestamp, "current_login_at" timestamp, "last_login_ip" character varying(255), "current_login_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (12.0ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [4;35;1mSQL (13.5ms)[0m   [0mCREATE TABLE "roles_users" ("id" serial primary key, "user_id" integer, "role_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE INDEX "index_roles_users_on_user_id_and_role_id" ON "roles_users" ("user_id", "role_id")[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mCREATE TABLE "roles" ("id" serial primary key, "name" character varying(40), "authorizable_type" character varying(40), "authorizable_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE INDEX "index_roles_on_authorizable_type_and_authorizable_id" ON "roles" ("authorizable_type", "authorizable_id")[0m
  [4;36;1mSQL (11.4ms)[0m   [0;1mCREATE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090101010101')[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mCOMMIT[0m
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (11.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (7.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'site_admin', '2009-10-08 14:01:01.355290', NULL, '2009-10-08 14:01:01.355290', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.7ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 1) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'admin@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'a7e1e25b9784b6100c9c7728049d2987b65e585735de82744cd0724a3ebe45eaf144a5bb8cd88d5f28bda81d2d75f31d2128898b6bd04ab91026ed1eb0452a11') LIMIT 1[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 14:01:01.696782', E'0743b5278f28a560fbd9353e8f839d58055656d4884dc1f3dc8ea7042a7a91dc5f34c8c32a8c8ce14e437db5e1cc63bf0041a397ab33c0c3d7bab6c34d3dc0dc', E'yER3Lob7b5G5RWZrOs8f', '2009-10-08 14:01:01.696782', NULL, E'TnoqLwv61632VLgdijhB', NULL, 0, E'a7e1e25b9784b6100c9c7728049d2987b65e585735de82744cd0724a3ebe45eaf144a5bb8cd88d5f28bda81d2d75f31d2128898b6bd04ab91026ed1eb0452a11', NULL, E'admin', NULL, E'admin@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (1.3ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 14:01:01.714607', '2009-10-08 14:01:01.714607', 1, 1) RETURNING "id"[0m
  [4;36;1mRole Load (1.7ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'admin', '2009-10-08 14:01:01.732133', E'User', '2009-10-08 14:01:01.732133', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.0ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vchi@example.com') LIMIT 1[0m
  [4;36;1mUser Load (3.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vladchi') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'd9cda1c2ae835ba8a3e023733b887efefc2eab832e7da67fb960c71c3fbd27cb8ca81b07f3d4c7480c2e2ac742e79f503d249272cd4ebc2a5600c27b39a3a6c4') LIMIT 1[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 14:01:01.763492', E'5030c3e20da8c854041dabfdd9edbb0e4b66ccbd6f1c1affcde99baf05604cb342e35492c12f22a65c7804fa0fadeaed42b6e05abf6697407f5c02afdc2538e5', E'LPhMtXtZ-oQvndEFi0a0', '2009-10-08 14:01:01.763492', NULL, E'qGGJ7SmX09Fsh1KLMiTg', NULL, 0, E'd9cda1c2ae835ba8a3e023733b887efefc2eab832e7da67fb960c71c3fbd27cb8ca81b07f3d4c7480c2e2ac742e79f503d249272cd4ebc2a5600c27b39a3a6c4', NULL, E'vladchi', NULL, E'vchi@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 14:01:01.772026', '2009-10-08 14:01:01.772026', 2, 2) RETURNING "id"[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'support@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'support') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'e4790e9b4e8aae096673c7af2203930cc644d98e779ad1a6ae3ae2eed8a5ab4df9cf1c93defe954be0ce078f664e2584ac0dca781a8b045732d97a1005142824') LIMIT 1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 14:01:01.800563', E'1f7cc8098d1308a7b40ef5d9e636259000c430088ee6fa4ed699e922373c432a0a283ef0ba0771d320ad869f34981cb4bee9cdf582300f565177aae0964e5601', E'H3mXIyY0z54NxGntBZyr', '2009-10-08 14:01:01.800563', NULL, E'ERfPQ6tov2EsTQAkM6iF', NULL, 0, E'e4790e9b4e8aae096673c7af2203930cc644d98e779ad1a6ae3ae2eed8a5ab4df9cf1c93defe954be0ce078f664e2584ac0dca781a8b045732d97a1005142824', NULL, E'support', NULL, E'support@example.com', 't') RETURNING "id"[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'support') LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'modulator' and authorizable_type = E'User' and authorizable_id = NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vistabean@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vistabean') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'5a1e28f871a2c315faab131598125e84e191022fd727475e430b7b9d4d004ace269eeb63474bf821357eb4116c2290eecd438fc5e99ae0bb64fabb18b2cd53ab') LIMIT 1[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-08 14:01:01.837912', E'a020d0d6b9ef2a2ffd0450ca7254e24706d68c2c93306dbf2f7725c712e2f2ea299ca65d5dcb3ec0248dffd7348b9238e36a634487b55dc6b28c5b5bc1f7bb80', E'UA_QWvWkiSpdACL2hlAt', '2009-10-08 14:01:01.837912', NULL, E'6pE8P6hO1r3NWCT96I0K', NULL, 0, E'5a1e28f871a2c315faab131598125e84e191022fd727475e430b7b9d4d004ace269eeb63474bf821357eb4116c2290eecd438fc5e99ae0bb64fabb18b2cd53ab', NULL, E'vistabean', NULL, E'vistabean@example.com', 't') RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'modulator', '2009-10-08 14:01:01.847942', E'User', '2009-10-08 14:01:01.847942', 4) RETURNING "id"[0m
  [4;35;1mRole Load (1.6ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 3) AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-08 14:01:01.862911', '2009-10-08 14:01:01.862911', 3, 3) RETURNING "id"[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:01:01.870540', "perishable_token" = E'XRwzeOrQ0Hv1qJ1898jx' WHERE "id" = 4[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090101010102')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateUserEmails (20090202020202)
  [4;36;1mSQL (1.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (61.2ms)[0m   [0mCREATE TABLE "user_emails" ("id" serial primary key, "user_id" integer NOT NULL, "new_email" character varying(100) NOT NULL, "old_email" character varying(100) NOT NULL, "request_code" character varying(255) NOT NULL, "request_expiration_date" timestamp NOT NULL, "confirmed_at" timestamp, "status" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_user_id" ON "user_emails" ("user_id")[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE INDEX "index_user_emails_on_request_code" ON "user_emails" ("request_code")[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_request_expiration_date" ON "user_emails" ("request_expiration_date")[0m
  [4;35;1mSQL (6.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202020202')[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateLocations (20091008133420)
  [4;35;1mSQL (1.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (15.2ms)[0m   [0;1mCREATE TABLE "locations" ("id" serial primary key, "locatable_type" character varying(255), "locatable_id" integer, "lat" float, "lng" float, "country" character varying(255), "state" character varying(255), "city" character varying(255), "address_line" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008133420')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePostings (20091008134246)
  [4;35;1mSQL (2.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (16.8ms)[0m   [0;1mCREATE TABLE "postings" ("id" serial primary key, "title" character varying(255), "description" text, "user_id" integer, "posting_type_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008134246')[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePostingTypes (20091008135023)
  [4;35;1mSQL (7.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mCREATE TABLE "posting_types" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135023')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateCategories (20091008135129)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.9ms)[0m   [0;1mCREATE TABLE "categories" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135129')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateCategoriesPostings (20091008135148)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (8.9ms)[0m   [0;1mCREATE TABLE "categories_postings" ("id" serial primary key, "category_id" integer, "posting_id" integer) [0m
  [4;35;1mSQL (15.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135148')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPhotoToPostings (20091008135542)
  [4;35;1mSQL (1.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_name" character varying(255)[0m
  [4;35;1mSQL (3.4ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_content_type" character varying(255)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_size" integer[0m
  [4;35;1mSQL (4.3ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_updated_at" timestamp[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091008135542')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:17:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'

NoMethodError (undefined method `logged_in?' for #<HomeController:0xb6e6984c>):
  app/controllers/application_controller.rb:92:in `set_user_time_zone'

Rendered rescues/_trace (98.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:17:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'

NoMethodError (undefined method `logged_in?' for #<HomeController:0xb6c10758>):
  app/controllers/application_controller.rb:92:in `set_user_time_zone'

Rendered rescues/_trace (248.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:17:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'

NoMethodError (undefined method `logged_in?' for #<HomeController:0xb6dc3f78>):
  app/controllers/application_controller.rb:92:in `set_user_time_zone'

Rendered rescues/_trace (97.8ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:18:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'

NoMethodError (undefined method `logged_in?' for #<HomeController:0xb6e6e2d4>):
  app/controllers/application_controller.rb:92:in `set_user_time_zone'

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:18:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'

NoMethodError (undefined method `logged_in?' for #<HomeController:0xb6c65e88>):
  app/controllers/application_controller.rb:92:in `set_user_time_zone'

Rendered rescues/_trace (250.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:19:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 213ms (View: 116, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (1.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 18:19:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 235ms (View: 40, DB: 7) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 18:19:10) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (4.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.9ms)[0m   [0mUPDATE "users" SET "login_count" = 1, "current_login_ip" = E'127.0.0.1', "updated_at" = '2009-10-08 14:19:11.467373', "perishable_token" = E'S4ESfmXDgf7CCW3xDMQF', "last_request_at" = '2009-10-08 14:19:11.457752', "current_login_at" = '2009-10-08 14:19:11.086284' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 706ms (DB: 13) | 302 Found [http://localhost/user_session]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 18:19:11) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:19:11.890011', "perishable_token" = E'nlnt4uC8EmQ7GGc74caU', "last_request_at" = '2009-10-08 14:19:11.888227' WHERE "id" = 2[0m
  [4;36;1mSQL (6.6ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (7.9ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 295ms (View: 128, DB: 27) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (2.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:40:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 562ms (View: 470, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (2.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 18:40:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 168ms (View: 53, DB: 9) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 18:41:03) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"0W60MzmAAUMZ2pINuIa7mEuICdd9FHyM593+fyty5+8=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (5.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 516ms (View: 37, DB: 11) | 200 OK [http://localhost/user_session]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 18:41:10) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"0W60MzmAAUMZ2pINuIa7mEuICdd9FHyM593+fyty5+8=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (2.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 248ms (View: 72, DB: 8) | 200 OK [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 18:41:18) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"0W60MzmAAUMZ2pINuIa7mEuICdd9FHyM593+fyty5+8=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 399ms (View: 44, DB: 8) | 200 OK [http://localhost/user_session]
  [4;35;1mSQL (3.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 18:41:23) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"0W60MzmAAUMZ2pINuIa7mEuICdd9FHyM593+fyty5+8=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.2ms)[0m   [0mUPDATE "users" SET "login_count" = 2, "updated_at" = '2009-10-08 14:41:23.593591', "perishable_token" = E'dUioSmtsTApaHha3Depc', "last_request_at" = '2009-10-08 14:41:23.588240', "last_login_at" = '2009-10-08 14:19:11.086284', "last_login_ip" = E'127.0.0.1', "current_login_at" = '2009-10-08 14:41:23.476662' WHERE "id" = 2[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 708ms (DB: 19) | 302 Found [http://localhost/user_session]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 18:41:24) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:41:24.270613', "perishable_token" = E'Q6RvOWk66fc4q7uZHnen', "last_request_at" = '2009-10-08 14:41:24.262104' WHERE "id" = 2[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (4.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;36;1mRole Load (1.9ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 416ms (View: 188, DB: 24) | 200 OK [http://localhost/account/edit]
  [4;35;1mSQL (3.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 18:44:41) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (4.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:44:41.558885', "perishable_token" = E'y_nvjQmGQIDOC1G99SRF', "last_request_at" = '2009-10-08 14:44:41.557027' WHERE "id" = 2[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (2.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 408ms (View: 81, DB: 21) | 200 OK [http://localhost/account/edit]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 18:49:04) [GET]
  Parameters: {"action"=>"index", "path"=>["postings", "new"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (6.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:49:05.056610', "perishable_token" = E'gHNSBox1oO6b8tRatlyY', "last_request_at" = '2009-10-08 14:49:05.032667' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 657ms (View: 510, DB: 24) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-10-08 18:55:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}

NoMethodError (undefined method `[]' for :posting:Symbol):
  app/controllers/postings_controller.rb:2

Rendered rescues/_trace (298.1ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (7.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 18:56:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
Rendered postings/_form (10.0ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 14:56:11.336020', "perishable_token" = E'MNjYn4oouB-0oy1bFH4C', "last_request_at" = '2009-10-08 14:56:11.334020' WHERE "id" = 2[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Completed in 269ms (View: 122, DB: 19) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-08 19:06:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:06:23.116662', "perishable_token" = E'2_FQfBCAxr4VmEbaf_z-', "last_request_at" = '2009-10-08 15:06:23.113672' WHERE "id" = 2[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCOMMIT[0m
Completed in 344ms (View: 94, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:06:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (0.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index

ActionView::TemplateError (undefined local variable or method `admin_new_posting_type_path' for #<ActionView::Base:0xb7004f6c>) on line #5 of app/views/admin/posting_types/index.html.haml:
2: 
3: = render :partial => 'posting_type', :collection => current_objects
4: 
5: = link_to 'New posting_type', admin_new_posting_type_path

    app/views/admin/posting_types/index.html.haml:5:in `_run_haml_app47views47admin47posting_types47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (168.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:07:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index

ActionView::TemplateError (undefined local variable or method `new_posting_type_admin_path' for #<ActionView::Base:0xb701e598>) on line #5 of app/views/admin/posting_types/index.html.haml:
2: 
3: = render :partial => 'posting_type', :collection => current_objects
4: 
5: = link_to 'New posting_type', new_posting_type_admin_path

    app/views/admin/posting_types/index.html.haml:5:in `_run_haml_app47views47admin47posting_types47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (124.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:07:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (0.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index

ActionView::TemplateError (undefined local variable or method `new_posting_type_path' for #<ActionView::Base:0xb70456fc>) on line #5 of app/views/admin/posting_types/index.html.haml:
2: 
3: = render :partial => 'posting_type', :collection => current_objects
4: 
5: = link_to 'New posting_type', new_posting_type_path

    app/views/admin/posting_types/index.html.haml:5:in `_run_haml_app47views47admin47posting_types47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (161.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:07:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (0.8ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:07:31.807113', "perishable_token" = E'swLoKb-MK_nkIEeNgh5f', "last_request_at" = '2009-10-08 15:07:31.805192' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 422ms (View: 99, DB: 18) | 200 OK [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:08:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (3.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:08:29.238717', "perishable_token" = E'LQpWiYCzVZ7SSoBoszGg', "last_request_at" = '2009-10-08 15:08:29.233098' WHERE "id" = 2[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Completed in 430ms (View: 236, DB: 18) | 200 OK [http://localhost/admin/posting_types]
  [4;35;1mSQL (2.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-08 19:08:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (3.0ms)
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:08:31.003522', "perishable_token" = E'GrddtAUFL9my5QnzU54s', "last_request_at" = '2009-10-08 15:08:30.793041' WHERE "id" = 2[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 493ms (View: 335, DB: 16) | 200 OK [http://localhost/admin/posting_types/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-08 19:08:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (14.0ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:08:58.717901', "perishable_token" = E'OoZQ5_9NrhIIkBCsotwq', "last_request_at" = '2009-10-08 15:08:58.716055' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 265ms (View: 103, DB: 10) | 200 OK [http://localhost/admin/posting_types/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-08 19:09:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (5.3ms)
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:09:36.357522', "perishable_token" = E'U9cj6YMjnMsNXysyOJWB', "last_request_at" = '2009-10-08 15:09:36.355693' WHERE "id" = 2[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Completed in 265ms (View: 103, DB: 11) | 200 OK [http://localhost/admin/posting_types/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-08 19:09:49) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "posting_type"=>{"name"=>"rent"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'rent', '2009-10-08 15:09:49.702739', '2009-10-08 15:09:49.702739') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/1
Completed in 129ms (DB: 8) | 302 Found [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-08 19:09:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (1.8ms)[0m   [0;1mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 1)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;35;1mUser Load (4.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (6.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:09:50.129069', "perishable_token" = E'wkGY9N-oD95PDJ1Ea4Bg', "last_request_at" = '2009-10-08 15:09:50.127313' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 272ms (View: 96, DB: 20) | 200 OK [http://localhost/admin/posting_types/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:10:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
Rendered admin/posting_types/_posting_type (27.6ms)
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:10:01.678679', "perishable_token" = E'h5WZAe_1PPlTilco9CBg', "last_request_at" = '2009-10-08 15:10:01.675847' WHERE "id" = 2[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Completed in 305ms (View: 147, DB: 15) | 200 OK [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-08 19:10:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (6.7ms)
  [4;36;1mUser Load (4.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:10:04.169150', "perishable_token" = E'S8sZkAC09tiAhlKVtFuj', "last_request_at" = '2009-10-08 15:10:04.166007' WHERE "id" = 2[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Completed in 319ms (View: 90, DB: 17) | 200 OK [http://localhost/admin/posting_types/new]
  [4;36;1mSQL (3.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-08 19:10:19) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "posting_type"=>{"name"=>"need"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'need', '2009-10-08 15:10:19.371072', '2009-10-08 15:10:19.371072') RETURNING "id"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/2
Completed in 119ms (DB: 11) | 302 Found [http://localhost/admin/posting_types]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-08 19:10:19) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (1.6ms)[0m   [0mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 2)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (3.7ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:10:19.909796', "perishable_token" = E'k7f2mDMaRmq_dJrZnIQI', "last_request_at" = '2009-10-08 15:10:19.902043' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 278ms (View: 86, DB: 14) | 200 OK [http://localhost/admin/posting_types/2]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-08 19:10:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
Rendered admin/posting_types/_posting_type (11.0ms)
Rendered admin/posting_types/_posting_type (1.6ms)
  [4;35;1mUser Load (3.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:10:23.205214', "perishable_token" = E'zNvFNcTJxMkEtDPehBHk', "last_request_at" = '2009-10-08 15:10:23.203338' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 515ms (View: 103, DB: 18) | 200 OK [http://localhost/admin/posting_types]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-08 19:11:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (2.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
  [4;36;1mUser Load (3.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:11:58.519096', "perishable_token" = E'W9AIh60lajkZRu0juhF-', "last_request_at" = '2009-10-08 15:11:58.514758' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 417ms (View: 280, DB: 15) | 200 OK [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-08 19:12:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (6.2ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:12:01.810721', "perishable_token" = E'1mf4KfFTxp_tL_1pbDte', "last_request_at" = '2009-10-08 15:12:01.807791' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 456ms (View: 106, DB: 11) | 200 OK [http://localhost/admin/categories/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-08 19:12:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (10.3ms)
  [4;36;1mUser Load (5.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:12:23.849265', "perishable_token" = E'3PbuUttG2r0_KEGg9eLc', "last_request_at" = '2009-10-08 15:12:23.847402' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 266ms (View: 103, DB: 16) | 200 OK [http://localhost/admin/categories/new]
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-08 19:12:48) [POST]
  Parameters: {"category"=>{"name"=>"housing"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'housing', '2009-10-08 15:12:48.175250', '2009-10-08 15:12:48.175250') RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/1
Completed in 100ms (DB: 8) | 302 Found [http://localhost/admin/categories]
  [4;35;1mSQL (1.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-08 19:12:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:12:48.556996', "perishable_token" = E'aW3ojbW5rgFs9s_oqJY5', "last_request_at" = '2009-10-08 15:12:48.555238' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 374ms (View: 93, DB: 12) | 200 OK [http://localhost/admin/categories/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-08 19:12:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (31.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:12:52.430800', "perishable_token" = E'd_iZCFpqa35ljLpk6nNF', "last_request_at" = '2009-10-08 15:12:52.427954' WHERE "id" = 2[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Completed in 303ms (View: 153, DB: 12) | 200 OK [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-08 19:12:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (6.0ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:12:54.474606', "perishable_token" = E'N33ZnjMnA55BGQcLHcEJ', "last_request_at" = '2009-10-08 15:12:54.472604' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 260ms (View: 94, DB: 16) | 200 OK [http://localhost/admin/categories/new]
  [4;35;1mSQL (3.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-08 19:13:01) [POST]
  Parameters: {"category"=>{"name"=>"electronics"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'electronics', '2009-10-08 15:13:01.793885', '2009-10-08 15:13:01.793885') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/2
Completed in 299ms (DB: 10) | 302 Found [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-08 19:13:02) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:13:02.367962', "perishable_token" = E'Pd-sXk1zdP9X0Exl9LRP', "last_request_at" = '2009-10-08 15:13:02.363158' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 239ms (View: 89, DB: 13) | 200 OK [http://localhost/admin/categories/2]
  [4;35;1mSQL (1.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-08 19:13:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (15.8ms)
Rendered admin/categories/_category (1.2ms)
  [4;36;1mUser Load (2.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:13:04.398178', "perishable_token" = E'Zq4hyMUJlW29hqrMehyb', "last_request_at" = '2009-10-08 15:13:04.395372' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 292ms (View: 112, DB: 13) | 200 OK [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-08 19:13:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (4.0ms)
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:13:06.653032', "perishable_token" = E'oBtAmMSMm08DLpuPshCq', "last_request_at" = '2009-10-08 15:13:06.649563' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 450ms (View: 293, DB: 13) | 200 OK [http://localhost/admin/categories/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-08 19:13:10) [POST]
  Parameters: {"category"=>{"name"=>"food"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"WwMe0f1M+RH7+t1cZMMG+r1Qus4Md1gYz+AUoInxl3g=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'food', '2009-10-08 15:13:10.171476', '2009-10-08 15:13:10.171476') RETURNING "id"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/3
Completed in 121ms (DB: 8) | 302 Found [http://localhost/admin/categories]
  [4;35;1mSQL (1.7ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-08 19:13:10) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (2.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;36;1mUser Load (3.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:13:10.732449', "perishable_token" = E'6u6EHNNzm3SIBx0FbY1F', "last_request_at" = '2009-10-08 15:13:10.730534' WHERE "id" = 2[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Completed in 414ms (View: 96, DB: 17) | 200 OK [http://localhost/admin/categories/3]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-08 19:13:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (2.4ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (10.4ms)
Rendered admin/categories/_category (2.1ms)
Rendered admin/categories/_category (2.2ms)
  [4;35;1mUser Load (6.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:13:13.275451', "perishable_token" = E'kJYRqurVWZecQHK6OTpJ', "last_request_at" = '2009-10-08 15:13:13.273334' WHERE "id" = 2[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Completed in 571ms (View: 402, DB: 17) | 200 OK [http://localhost/admin/categories]
  [4;35;1mSQL (6.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-08 19:15:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:15:18.163142', "perishable_token" = E'Nuwbk_v1ecDOqa1jXog5', "last_request_at" = '2009-10-08 15:15:18.160329' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 369ms (View: 82, DB: 24) | 200 OK [http://localhost/postings/]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:15:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
ERROR: compiling _run_haml_app47views47postings47new46html46haml RAISED compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/new.html.haml:5: syntax error, unexpected '{', expecting tASSOC
...g, :url => objects_url, :html{ :multipart => true }) do |f|;
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/new.html.haml:12: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47postings47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :ugly=>false, :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;;

_hamlout.push_text("<h1>Creating posting</h1>\n");haml_temp =  error_messages_for :posting;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
 form_for(:posting, :url => objects_url, :html{ :multipart => true }) do |f|;
haml_temp =  render :partial => "form", :locals => {:f => f};
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("<p>", false, 1);haml_temp = submit_tag "Create";
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</p>\n", true);end;haml_temp =  link_to 'Back', objects_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/vchistyakov/rails_apps/neilist/current/app/views/postings/new.html.haml:12:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/new.html.haml:5: syntax error, unexpected '{', expecting tASSOC
...g, :url => objects_url, :html{ :multipart => true }) do |f|;
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/new.html.haml:12: syntax error, unexpected kENSURE, expecting $end) on line #5 of app/views/postings/new.html.haml:
2: 
3: = error_messages_for :posting
4: 
5: - form_for(:posting, :url => objects_url, :html{ :multipart => true }) do |f|
6:   = render :partial => "form", :locals => {:f => f}
7:   %p= submit_tag "Create"
8: 

    app/views/postings/new.html.haml:12:in `compile!'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (286.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:15:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
Rendered postings/_form (9.0ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:15:31.657432', "perishable_token" = E'xVAAMiZ9SkZuTm_PfxNk', "last_request_at" = '2009-10-08 15:15:31.655273' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 244ms (View: 117, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 19:16:39) [GET]
  Parameters: {"action"=>"index", "path"=>["posting"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:16:39.720717', "perishable_token" = E'W4PPN1K53RiwAhJl3D7P', "last_request_at" = '2009-10-08 15:16:39.717771' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 189ms (View: 115, DB: 8) | 200 OK [http://localhost/posting]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-08 19:16:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mUser Load (5.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:16:53.552122', "perishable_token" = E'zkiyElGTItOFZpsd9rJq', "last_request_at" = '2009-10-08 15:16:53.549064' WHERE "id" = 2[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Completed in 366ms (View: 243, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:16:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
Rendered postings/_form (19.2ms)
  [4;35;1mUser Load (5.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:16:56.310092', "perishable_token" = E'e1szw8xSp1pUt5lpKchu', "last_request_at" = '2009-10-08 15:16:56.304926' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 452ms (View: 146, DB: 32) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:17:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
Rendered postings/_form (14.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:17:07.989375', "perishable_token" = E'-QzkCH1J4Ir0PLPsq_cZ', "last_request_at" = '2009-10-08 15:17:07.987554' WHERE "id" = 2[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCOMMIT[0m
Completed in 266ms (View: 134, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:20:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.3ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (51.7ms)
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (1.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:20:33.043158', "perishable_token" = E'GIrmIoFbKHXhu19wHjqb', "last_request_at" = '2009-10-08 15:20:33.040532' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 313ms (View: 183, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:21:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (43.7ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 15:21:13.946255', "perishable_token" = E'RDDG8c4QbUPkZn1i9kyw', "last_request_at" = '2009-10-08 15:21:13.942126' WHERE "id" = 2[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCOMMIT[0m
Completed in 312ms (View: 177, DB: 16) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 19:21:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (51.1ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 15:21:25.254103', "perishable_token" = E'h7qGqrf8vjQPj3swWYOG', "last_request_at" = '2009-10-08 15:21:25.252048' WHERE "id" = 2[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCOMMIT[0m
Completed in 279ms (View: 150, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (7.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-08 21:53:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (20.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (280.4ms)
Completed in 1028ms (View: 425, DB: 65) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-08 22:03:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Completed in 329ms (View: 183, DB: 5) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-08 22:04:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 134ms (View: 39, DB: 5) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-08 22:04:09) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"GWexc8+5KIgg0yq18d+jrcf2oybrrM7fivTUwWNw3Tw=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (41.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.7ms)[0m   [0;1mUPDATE "users" SET "login_count" = 3, "updated_at" = '2009-10-08 18:04:10.160835', "perishable_token" = E'sxLamGzjvTfC3fw2tLJm', "last_request_at" = '2009-10-08 18:04:10.158038', "last_login_at" = '2009-10-08 14:41:23.476662', "current_login_at" = '2009-10-08 18:04:09.996263' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 729ms (DB: 49) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-08 22:04:10) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 18:04:10.472672', "perishable_token" = E'36wPPlMqIIaLhStyvVrN', "last_request_at" = '2009-10-08 18:04:10.470937' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (47.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (1.4ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 398ms (View: 230, DB: 57) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 22:04:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 18:04:13.445514', "perishable_token" = E'LaaWwrzuZ3VfyX_6DsL-', "last_request_at" = '2009-10-08 18:04:13.443846' WHERE "id" = 2[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRole Load (1.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mRole Load (17.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = 2)) LIMIT 1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" LIMIT 10[0m
  [4;35;1mSQL (58.8ms)[0m   [0mSELECT count("users".id) AS count_id FROM "users"[0m
Rendering template within layouts/application
Rendering admin/users/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count("users".id) AS count_id FROM "users"[0m
Rendered admin/users/_users (68.4ms)
Completed in 616ms (View: 299, DB: 89) | 200 OK [http://localhost/admin/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::UsersController#index (for 127.0.0.1 at 2009-10-08 22:04:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/users"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 18:04:47.587510', "perishable_token" = E'2bstBzP3UdQVgXw-zHrC', "last_request_at" = '2009-10-08 18:04:47.585803' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRole Load (1.6ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;36;1mRole Load (1.5ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = 2)) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" LIMIT 10[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count("users".id) AS count_id FROM "users"[0m
Rendering template within layouts/application
Rendering admin/users/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count("users".id) AS count_id FROM "users"[0m
Rendered admin/users/_users (47.3ms)
Completed in 403ms (View: 89, DB: 13) | 200 OK [http://localhost/admin/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Fri Oct 09 01:34:04 +0400 2009
  Status: 500 Internal Server Error
  /home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:39: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var latlng = new google.maps.LatLng(#{location.lat}, ...
                             ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:40: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var map = new google.maps.Map(document.getElementB...
                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:42: syntax error, unexpected tIDENTIFIER, expecting ')'
    javascript_tag string
                  ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:224:in `depend_on'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:136:in `require_dependency'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `inherited'
    /home/vchistyakov/rails_apps/neilist/current/app/controllers/application_controller.rb:4
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Fri Oct 09 01:34:08 +0400 2009
  Status: 500 Internal Server Error
  /home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:39: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var latlng = new google.maps.LatLng(#{location.lat}, ...
                             ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:40: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var map = new google.maps.Map(document.getElementB...
                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:42: syntax error, unexpected tIDENTIFIER, expecting ')'
    javascript_tag string
                  ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:224:in `depend_on'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:136:in `require_dependency'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `inherited'
    /home/vchistyakov/rails_apps/neilist/current/app/controllers/application_controller.rb:4
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Fri Oct 09 01:34:10 +0400 2009
  Status: 500 Internal Server Error
  /home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:39: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var latlng = new google.maps.LatLng(#{location.lat}, ...
                             ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:40: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var map = new google.maps.Map(document.getElementB...
                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:42: syntax error, unexpected tIDENTIFIER, expecting ')'
    javascript_tag string
                  ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:224:in `depend_on'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:136:in `require_dependency'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `inherited'
    /home/vchistyakov/rails_apps/neilist/current/app/controllers/application_controller.rb:4
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Fri Oct 09 01:35:47 +0400 2009
  Status: 500 Internal Server Error
  /home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:40: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var latlng = new google.maps.LatLng(#{location.lat}, ...
                             ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:41: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var map = new google.maps.Map(document.getElementB...
                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:43: syntax error, unexpected tIDENTIFIER, expecting ')'
    javascript_tag string
                  ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:224:in `depend_on'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:136:in `require_dependency'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `inherited'
    /home/vchistyakov/rails_apps/neilist/current/app/controllers/application_controller.rb:4
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-09 01:36:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.7ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mUser Load (4.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:36:30.843103', "perishable_token" = E'drlWU3o3jGNMugtYuZ-0', "last_request_at" = '2009-10-08 21:36:30.836788' WHERE "id" = 2[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Completed in 719ms (View: 576, DB: 13) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:36:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (3.3ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (183.4ms)
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:36:36.266858', "perishable_token" = E'zgXIDZK8bKQ--lqQNdfj', "last_request_at" = '2009-10-08 21:36:36.264940' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 461ms (View: 305, DB: 25) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:37:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (173.9ms)
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:37:00.559144', "perishable_token" = E'yfYaH3HBxhIgIxbWHAS2', "last_request_at" = '2009-10-08 21:37:00.520293' WHERE "id" = 2[0m
  [4;36;1mSQL (36.9ms)[0m   [0;1mCOMMIT[0m
Completed in 514ms (View: 312, DB: 48) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:37:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.5ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (159.9ms)
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:37:05.235461', "perishable_token" = E'S_63uctEbakwsW7eqZD8', "last_request_at" = '2009-10-08 21:37:05.233446' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 351ms (View: 240, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-09 01:37:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:37:39.380631', "perishable_token" = E'zZ85iHfvghgM_BODj_6w', "last_request_at" = '2009-10-08 21:37:39.378705' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 289ms (View: 175, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:37:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (38.1ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:37:41.863394', "perishable_token" = E'jeIdutiBy-5kvfsxeGnS', "last_request_at" = '2009-10-08 21:37:41.861134' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 423ms (View: 239, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:37:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (42.0ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:37:55.729868', "perishable_token" = E'BZlzOiEhlAcM2QCKxVOX', "last_request_at" = '2009-10-08 21:37:55.726557' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 432ms (View: 293, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:39:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (46.6ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:39:13.347066', "perishable_token" = E'L9meV9yv_9QtUEkUtZQk', "last_request_at" = '2009-10-08 21:39:13.341283' WHERE "id" = 2[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Completed in 357ms (View: 247, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:39:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (29.2ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:39:17.208769', "perishable_token" = E'mmJKAuAcE8TRYuH7TWw-', "last_request_at" = '2009-10-08 21:39:17.206734' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 330ms (View: 223, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:40:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (28.2ms)
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:40:42.452774', "perishable_token" = E'hyoPL8Tv5IUKrVG7uDLv', "last_request_at" = '2009-10-08 21:40:42.449637' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 315ms (View: 209, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:44:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.4ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (43.5ms)
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:44:49.685544', "perishable_token" = E'Sl_lXcVuVZid3NU6O9po', "last_request_at" = '2009-10-08 21:44:49.683450' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 431ms (View: 323, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:46:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (31.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:46:37.457472', "perishable_token" = E's_5VhRvmQq6wTYjX3UqT', "last_request_at" = '2009-10-08 21:46:37.455420' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 382ms (View: 249, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:46:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (27.6ms)
  [4;35;1mUser Load (4.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:46:44.283541', "perishable_token" = E'uad7Sj-J1xJljHh4bqC2', "last_request_at" = '2009-10-08 21:46:44.281478' WHERE "id" = 2[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 345ms (View: 232, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:46:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (44.8ms)
  [4;36;1mUser Load (21.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:46:56.156345', "perishable_token" = E'qDcWIHA1nSmdbaLA3913', "last_request_at" = '2009-10-08 21:46:56.154141' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 457ms (View: 251, DB: 34) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:55:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (26.4ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:55:46.996857', "perishable_token" = E'PNUR0kph94QpA0AzoD-V', "last_request_at" = '2009-10-08 21:55:46.994533' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 456ms (View: 338, DB: 17) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:58:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (30.0ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 21:58:14.469242', "perishable_token" = E'eQHWE39GgaTnkuR_U7wG', "last_request_at" = '2009-10-08 21:58:14.465937' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 381ms (View: 249, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 01:58:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (27.8ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 21:58:29.456303', "perishable_token" = E'-cy-U6-Yc2295xiZ4n07', "last_request_at" = '2009-10-08 21:58:29.454010' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 439ms (View: 321, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:00:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (97.8ms)
  [4;36;1mUser Load (7.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 22:00:06.801003', "perishable_token" = E'2bkuEWOy2DBpwvJI2B_x', "last_request_at" = '2009-10-08 22:00:06.798928' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 425ms (View: 304, DB: 15) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:01:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (4.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (47.5ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 22:01:52.360192', "perishable_token" = E'hGgGL3zBXDrUu3f3qEr2', "last_request_at" = '2009-10-08 22:01:52.358153' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 452ms (View: 295, DB: 15) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:02:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (27.4ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 22:02:05.926686', "perishable_token" = E'Vh9D-6yfpoZvbWiO4tf5', "last_request_at" = '2009-10-08 22:02:05.924652' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 326ms (View: 216, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:02:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (26.7ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 22:02:41.710705', "perishable_token" = E'ur93QqTumaqYuvY78PMQ', "last_request_at" = '2009-10-08 22:02:41.708359' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 356ms (View: 239, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:03:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (28.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 22:03:48.204293', "perishable_token" = E'z3DXzRkJJs6DG3mrmnk_', "last_request_at" = '2009-10-08 22:03:48.202518' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 315ms (View: 97, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:05:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (2.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (29.5ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 22:05:55.421673', "perishable_token" = E'69erR4Sq0JF0wXfnpelf', "last_request_at" = '2009-10-08 22:05:55.419706' WHERE "id" = 2[0m
  [4;36;1mSQL (8.5ms)[0m   [0;1mCOMMIT[0m
Completed in 448ms (View: 91, DB: 20) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:06:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (36.1ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-08 22:06:51.463615', "perishable_token" = E'W7cq-Ug8Hp4sfkVNP48g', "last_request_at" = '2009-10-08 22:06:51.461302' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 401ms (View: 113, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 02:08:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (39.9ms)
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-08 22:08:32.006505', "perishable_token" = E'9tWSPfg4X-o_KKRTI7ud', "last_request_at" = '2009-10-08 22:08:32.003690' WHERE "id" = 2[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 344ms (View: 115, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-09 15:05:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 920ms (View: 466, DB: 36) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-09 15:06:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 136ms (View: 38, DB: 5) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-09 15:06:43) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"i3jALc44MJTgx3XDP+4vTUaDOEyxoz5/Q0VLXuAzjOg=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (52.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.2ms)[0m   [0;1mUPDATE "users" SET "login_count" = 4, "updated_at" = '2009-10-09 11:06:44.097026', "perishable_token" = E'5NKOhH0bw9AJQWatma7v', "last_request_at" = '2009-10-09 11:06:44.094047', "last_login_at" = '2009-10-08 18:04:09.996263', "current_login_at" = '2009-10-09 11:06:43.969605' WHERE "id" = 2[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 627ms (DB: 62) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-09 15:06:44) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:06:44.403984', "perishable_token" = E'ckaWlxVQTcv1RDVDzq5w', "last_request_at" = '2009-10-09 11:06:44.402286' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (42.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (1.4ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 370ms (View: 215, DB: 51) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-09 15:06:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (12.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:06:53.130828', "perishable_token" = E'EX7Jv_N-MWLk3e-rHvI9', "last_request_at" = '2009-10-09 11:06:53.128754' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 339ms (View: 208, DB: 21) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:06:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (24.7ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (88.2ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:06:55.557385', "perishable_token" = E'dwtotRhTe-vQqeg0smF4', "last_request_at" = '2009-10-09 11:06:55.440752' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 446ms (View: 277, DB: 34) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:07:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (26.5ms)
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:07:24.256774', "perishable_token" = E'4UzZKQgMhidG0uYTBvBF', "last_request_at" = '2009-10-09 11:07:24.254727' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 335ms (View: 123, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:07:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (26.3ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:07:30.157561', "perishable_token" = E'go2EmnuvUyvoAi0DEoG1', "last_request_at" = '2009-10-09 11:07:30.155802' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 323ms (View: 88, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:20:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (30.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:20:42.934337', "perishable_token" = E'stDGjaXJAzQvlgZlxGMA', "last_request_at" = '2009-10-09 11:20:42.932133' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 201ms (View: 94, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:21:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (32.1ms)
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:21:05.712321', "perishable_token" = E'E1Hayy_D8ePPyXe8Kduu', "last_request_at" = '2009-10-09 11:21:05.710391' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 212ms (View: 93, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:21:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.7ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (29.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:21:31.325342', "perishable_token" = E'q_8-XKrkZjUklcH7i8cW', "last_request_at" = '2009-10-09 11:21:31.323563' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 240ms (View: 92, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (3.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:22:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (43.2ms)
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (7.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:22:37.997777', "perishable_token" = E'b2IYSRw0GwaHGDVYpqJx', "last_request_at" = '2009-10-09 11:22:37.995977' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 231ms (View: 117, DB: 22) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (26.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:27:00.984153', "perishable_token" = E'oszeAtyIDjToF1tvBrE8', "last_request_at" = '2009-10-09 11:27:00.982363' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 237ms (View: 123, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (58.0ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:37:15.265860', "perishable_token" = E'PbnJrXnLL6cew4cIcIBx', "last_request_at" = '2009-10-09 11:37:15.264116' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 234ms (View: 123, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:38:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (31.9ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:38:01.655560', "perishable_token" = E'Qnyozi-1-8bi6ZOlj6fm', "last_request_at" = '2009-10-09 11:38:01.653784' WHERE "id" = 2[0m
  [4;36;1mSQL (9.6ms)[0m   [0;1mCOMMIT[0m
Completed in 207ms (View: 100, DB: 20) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:44:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (30.2ms)
Rendered postings/_googlemaps (11.6ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:44:46.965178', "perishable_token" = E'vwnj4FIEOT5WGK8F8MeE', "last_request_at" = '2009-10-09 11:44:46.963335' WHERE "id" = 2[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Completed in 255ms (View: 114, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:47:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_form (29.2ms)
Rendered postings/_googlemaps (17.4ms)
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 11:47:26.426767', "perishable_token" = E'BxRrAU_vuYkEva_EzprM', "last_request_at" = '2009-10-09 11:47:26.424930' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 224ms (View: 106, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 15:49:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_form (32.8ms)
Rendered postings/_googlemaps (12.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 11:49:11.015531', "perishable_token" = E'QQvXup0MEpWSH6mhucpV', "last_request_at" = '2009-10-09 11:49:11.013168' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 382ms (View: 115, DB: 25) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (11.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to InitialSetup (20090101010101)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.8ms)[0m   [0;1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;36;1mSQL (17.3ms)[0m   [0;1mCREATE TABLE "users" ("id" serial primary key, "login" character varying(255) NOT NULL, "email" character varying(255) DEFAULT E'' NOT NULL, "active" boolean DEFAULT 'f' NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "perishable_token" character varying(255) DEFAULT E'' NOT NULL, "persistence_token" character varying(255) NOT NULL, "crypted_password" character varying(255), "password_salt" character varying(255), "last_request_at" timestamp, "last_login_at" timestamp, "current_login_at" timestamp, "last_login_ip" character varying(255), "current_login_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (11.9ms)[0m   [0mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [4;35;1mSQL (11.0ms)[0m   [0mCREATE TABLE "roles_users" ("id" serial primary key, "user_id" integer, "role_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE INDEX "index_roles_users_on_user_id_and_role_id" ON "roles_users" ("user_id", "role_id")[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mCREATE TABLE "roles" ("id" serial primary key, "name" character varying(40), "authorizable_type" character varying(40), "authorizable_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE INDEX "index_roles_on_authorizable_type_and_authorizable_id" ON "roles" ("authorizable_type", "authorizable_id")[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090101010101')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to InitialSetupUsers (20090101010102)
  [4;35;1mSQL (2.8ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (3.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'site_admin' and authorizable_type IS NULL and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (4.5ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'site_admin', '2009-10-09 12:13:53.402100', NULL, '2009-10-09 12:13:53.402100', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (1.6ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 1) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'admin@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'0ba243abf992c644b6e76930f815fdd1dbf780fce177e7f5c39eab837f886ef4fd6b1d8aa057bb52c45a01cb2daa480f03453f1e79c1703d76a29db251e07322') LIMIT 1[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-09 12:13:53.763601', E'6d28b639bf76d0e9e49a3ebcb20ba7d9c37d62187addab44fa1a2905dd4964df581e4da87a8aa906977e5699a9e27540135ac1920ab07d3c091df81c664c90bd', E'IX3dC6MikE_Xv_obtmu-', '2009-10-09 12:13:53.763601', NULL, E'KE7rCBdN5L50SVp5CAA6', NULL, 0, E'0ba243abf992c644b6e76930f815fdd1dbf780fce177e7f5c39eab837f886ef4fd6b1d8aa057bb52c45a01cb2daa480f03453f1e79c1703d76a29db251e07322', NULL, E'admin', NULL, E'admin@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-09 12:13:53.779717', '2009-10-09 12:13:53.779717', 1, 1) RETURNING "id"[0m
  [4;36;1mRole Load (2.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE (name = E'admin' and authorizable_type = E'User' and authorizable_id IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'admin', '2009-10-09 12:13:53.794617', E'User', '2009-10-09 12:13:53.794617', NULL) RETURNING "id"[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 2) AND (("roles_users".user_id = NULL)) LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vchi@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vladchi') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'bc60338820887c7c3299625074bdbaa8407bcb4bc40d96214e0d30e3a5b696b23e19e57561d3c05f659793d5823cee53599a081a1281a5c78ef8ca4d7b4a8c29') LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-09 12:13:53.817238', E'ebecb9c758813c7a778d0b0821ffa4dfd4209f57c034f8f2ca46b80672d9dec88270f14555e1095706e080e035f63aab087024581e43ce541d90c11ba67d070e', E'xjW9hZR7afeK-oC_QTcy', '2009-10-09 12:13:53.817238', NULL, E'nJ5zCnFTTEmul2p7kiDc', NULL, 0, E'bc60338820887c7c3299625074bdbaa8407bcb4bc40d96214e0d30e3a5b696b23e19e57561d3c05f659793d5823cee53599a081a1281a5c78ef8ca4d7b4a8c29', NULL, E'vladchi', NULL, E'vchi@example.com', 't') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-09 12:13:53.823763', '2009-10-09 12:13:53.823763', 2, 2) RETURNING "id"[0m
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'support@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'support') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'abc4aa0df0d273dab3708f87706f45eb91db5b969a090f008e426a60b0c5a7fde644c50d1a1ac7da1674269f1effc3020e6f6786e96fc423905288b7127ebfc5') LIMIT 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-09 12:13:53.843833', E'd84fefb8a10d0f6311977873292c65eb323e84d85931139139d3efdafdf410b45dc1ce380f95785530f9985df87482a8bbb900cad951d2e00e7f8081bc97b17d', E'LPY2BOohX2ZtvR0DYd0k', '2009-10-09 12:13:53.843833', NULL, E'OKXWsppMvxhJkIQbgMgJ', NULL, 0, E'abc4aa0df0d273dab3708f87706f45eb91db5b969a090f008e426a60b0c5a7fde644c50d1a1ac7da1674269f1effc3020e6f6786e96fc423905288b7127ebfc5', NULL, E'support', NULL, E'support@example.com', 't') RETURNING "id"[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'support') LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE (name = E'modulator' and authorizable_type = E'User' and authorizable_id = NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = E'vistabean@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = E'vistabean') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = E'03bfc4f04bc420831370bdc756c766f4d399c8838239b20368122cc1cc74fab737f34136b3a07d3d9a313b869f5ef2861e7d5fe961f770f672c5acac445e70c3') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "users" ("last_request_at", "created_at", "crypted_password", "perishable_token", "updated_at", "current_login_ip", "password_salt", "current_login_at", "login_count", "persistence_token", "last_login_ip", "login", "last_login_at", "email", "active") VALUES(NULL, '2009-10-09 12:13:53.884457', E'7cd3c61115ab2379be3ddae67d96438ae264c854919d0ea5eabd396ffc7ba835c4042be070377abc46e6765dc5e6f4bdb85a3a6178eb9e820fec6b5fc411d32c', E'J2c8KjaBEgXUB-8U8LI_', '2009-10-09 12:13:53.884457', NULL, E'9k0dRgasPCSw9APAB9eV', NULL, 0, E'03bfc4f04bc420831370bdc756c766f4d399c8838239b20368122cc1cc74fab737f34136b3a07d3d9a313b869f5ef2861e7d5fe961f770f672c5acac445e70c3', NULL, E'vistabean', NULL, E'vistabean@example.com', 't') RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "roles" ("name", "created_at", "authorizable_type", "updated_at", "authorizable_id") VALUES(E'modulator', '2009-10-09 12:13:53.888646', E'User', '2009-10-09 12:13:53.888646', 4) RETURNING "id"[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles"."id" = 3) AND (("roles_users".user_id = 3)) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "roles_users" ("created_at", "updated_at", "role_id", "user_id") VALUES('2009-10-09 12:13:53.897788', '2009-10-09 12:13:53.897788', 3, 3) RETURNING "id"[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:13:53.904514', "perishable_token" = E'lZeouc5Xir0pkL8ySuyI' WHERE "id" = 4[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090101010102')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateUserEmails (20090202020202)
  [4;36;1mSQL (1.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (28.8ms)[0m   [0mCREATE TABLE "user_emails" ("id" serial primary key, "user_id" integer NOT NULL, "new_email" character varying(100) NOT NULL, "old_email" character varying(100) NOT NULL, "request_code" character varying(255) NOT NULL, "request_expiration_date" timestamp NOT NULL, "confirmed_at" timestamp, "status" character varying(255) NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (7.2ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_user_id" ON "user_emails" ("user_id")[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE INDEX "index_user_emails_on_request_code" ON "user_emails" ("request_code")[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE INDEX "index_user_emails_on_request_expiration_date" ON "user_emails" ("request_expiration_date")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202020202')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateLocations (20091008133420)
  [4;35;1mSQL (1.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (29.3ms)[0m   [0;1mCREATE TABLE "locations" ("id" serial primary key, "locatable_type" character varying(255), "locatable_id" integer, "lat" float, "lng" float, "country" character varying(255), "state" character varying(255), "city" character varying(255), "address_line" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008133420')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePostings (20091008134246)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (21.9ms)[0m   [0;1mCREATE TABLE "postings" ("id" serial primary key, "title" character varying(255), "description" text, "user_id" integer, "posting_type_id" integer, "category_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008134246')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePostingTypes (20091008135023)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (9.6ms)[0m   [0;1mCREATE TABLE "posting_types" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135023')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateCategories (20091008135129)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mCREATE TABLE "categories" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091008135129')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPhotoToPostings (20091008135542)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_name" character varying(255)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_content_type" character varying(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "postings" ADD COLUMN "photo_file_size" integer[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "postings" ADD COLUMN "photo_updated_at" timestamp[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091008135542')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-10-09 16:18:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}

NoMethodError (undefined method `responce_for' for #<Resourceful::Builder:0xb6e70688>):
  app/controllers/postings_controller.rb:5
  app/controllers/postings_controller.rb:2

Rendered rescues/_trace (91.3ms)
Rendered rescues/_request_and_response (3.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 16:19:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.8ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (42.4ms)

ActionView::TemplateError (undefined method `fileds_for' for #<ActionView::Helpers::FormBuilder:0xb6eadc2c>) on line #4 of app/views/postings/_googlemaps.html.haml:
1: - content_for :head do
2:   %script{:type => "text/javascript", :src => "http://maps.google.com/maps/api/js?sensor=false"}
3:   = google_map_tag(Location.new(:lat => "-34.397", :lng => "150.644"))
4: - f.fileds_for :location do |lf|
5:   = lf.hidden_field :lat
6:   = lf.hidden_field :lng
7: %br

    app/views/postings/_googlemaps.html.haml:4:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/new.html.haml:7:in `_run_haml_app47views47postings47new46html46haml'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:160:in `form_for'
    app/views/postings/new.html.haml:5:in `_run_haml_app47views47postings47new46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (227.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 16:19:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.8ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (55.0ms)
Rendered postings/_googlemaps (15.3ms)
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 338ms (View: 238, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-09 16:23:54) [GET]
  Parameters: {"action"=>"index", "path"=>["admin", "main"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 127ms (View: 71, DB: 7) | 200 OK [http://localhost/admin/main]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-09 16:24:20) [GET]
  Parameters: {"action"=>"index", "path"=>["admin", "main", "index"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 117ms (View: 56, DB: 6) | 200 OK [http://localhost/admin/main/index]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-09 16:24:51) [GET]
  Parameters: {"action"=>"index", "path"=>["admin", "main", "index"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 229ms (View: 55, DB: 7) | 200 OK [http://localhost/admin/main/index]
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-09 16:24:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 135ms (View: 18, DB: 9) | 200 OK [http://localhost/user_session/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-09 16:24:58) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.9ms)[0m   [0;1mUPDATE "users" SET "login_count" = 1, "current_login_ip" = E'127.0.0.1', "updated_at" = '2009-10-09 12:24:58.849491', "perishable_token" = E'zEqLcFD6jVYbRA9ScCup', "last_request_at" = '2009-10-09 12:24:58.846789', "current_login_at" = '2009-10-09 12:24:58.846448' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 241ms (DB: 12) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-09 16:24:59) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:24:59.099959', "perishable_token" = E'bqlnl5YLpFO9zBl81BP1', "last_request_at" = '2009-10-09 12:24:59.097984' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (1.9ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 203ms (View: 55, DB: 11) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (3.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-09 16:25:11) [GET]
  Parameters: {"action"=>"index", "path"=>["admin", "main"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:25:11.488599', "perishable_token" = E'H4JnvNdqSIor1PoeHyUS', "last_request_at" = '2009-10-09 12:25:11.482920' WHERE "id" = 2[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Completed in 129ms (View: 68, DB: 14) | 200 OK [http://localhost/admin/main]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::MainController#index (for 127.0.0.1 at 2009-10-09 16:27:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/main"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/main/index

ActionView::TemplateError (Illegal nesting: nesting within plain text is illegal.) on line #3 of app/views/admin/main/index.html.haml:
1: <h1>Admin</h1>
2: <ul>
3:   <li><%= link_to "Users", admin_users_path %></li>
4:   <li><%= link_to "Categories", admin_categories_path %></li>
5:   <li><%= link_to "Posting Types", admin_posting_types_path %></li>
6: </ul>

    app/views/admin/main/index.html.haml:3
    haml (2.0.6) lib/haml/precompiler.rb:314:in `push_plain'
    haml (2.0.6) lib/haml/precompiler.rb:228:in `process_line'
    haml (2.0.6) lib/haml/precompiler.rb:156:in `precompile'
    haml (2.0.6) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.6) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.6) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.6) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.6) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.6) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (99.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (8.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::MainController#index (for 127.0.0.1 at 2009-10-09 16:28:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/main"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/main/index
  [4;36;1mUser Load (3.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:28:45.721203', "perishable_token" = E'YFxC5iYRMHd7XFQevrTf', "last_request_at" = '2009-10-09 12:28:45.719179' WHERE "id" = 2[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Completed in 190ms (View: 88, DB: 23) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-09 16:30:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:27.999518', "perishable_token" = E'G6cVQ7CSn9ZGmxPsLiNB', "last_request_at" = '2009-10-09 12:30:27.997658' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 233ms (View: 112, DB: 12) | 200 OK [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-09 16:30:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (9.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (6.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:30.024567', "perishable_token" = E'5F4LLfIiA-7ZMLu-ebK9', "last_request_at" = '2009-10-09 12:30:30.022423' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 367ms (View: 245, DB: 14) | 200 OK [http://localhost/admin/categories/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-09 16:30:38) [POST]
  Parameters: {"category"=>{"name"=>"electronics"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mSQL (1.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'electronics', '2009-10-09 12:30:38.716304', '2009-10-09 12:30:38.716304') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/1
Completed in 79ms (DB: 7) | 302 Found [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-09 16:30:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 1)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:39.152136', "perishable_token" = E'bKXDc10nJ-eZrnJJjOwJ', "last_request_at" = '2009-10-09 12:30:39.150257' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 244ms (View: 81, DB: 12) | 200 OK [http://localhost/admin/categories/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-09 16:30:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (13.5ms)[0m   [0mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (38.2ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:42.093538', "perishable_token" = E'6-zfLlgkoEzcrnBKNWAD', "last_request_at" = '2009-10-09 12:30:42.091679' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 380ms (View: 112, DB: 23) | 200 OK [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-09 16:30:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (3.1ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:43.989337', "perishable_token" = E'r2hkra1BFRdpm4MLsX2t', "last_request_at" = '2009-10-09 12:30:43.987193' WHERE "id" = 2[0m
  [4;35;1mSQL (14.3ms)[0m   [0mCOMMIT[0m
Completed in 383ms (View: 221, DB: 22) | 200 OK [http://localhost/admin/categories/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-09 16:30:50) [POST]
  Parameters: {"category"=>{"name"=>"computers"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'computers', '2009-10-09 12:30:50.874506', '2009-10-09 12:30:50.874506') RETURNING "id"[0m
  [4;36;1mSQL (331.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/2
Completed in 407ms (DB: 337) | 302 Found [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-09 16:30:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 2)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (4.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:52.562353', "perishable_token" = E'oRhjFaA-AbG_WnHF0e1-', "last_request_at" = '2009-10-09 12:30:52.560386' WHERE "id" = 2[0m
  [4;35;1mSQL (847.8ms)[0m   [0mCOMMIT[0m
Completed in 1170ms (View: 68, DB: 867) | 200 OK [http://localhost/admin/categories/2]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-09 16:30:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (6.7ms)
Rendered admin/categories/_category (1.1ms)
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:30:56.600600', "perishable_token" = E'okBqCaZLLJD2OyJP7rjY', "last_request_at" = '2009-10-09 12:30:56.596150' WHERE "id" = 2[0m
  [4;36;1mSQL (1039.6ms)[0m   [0;1mCOMMIT[0m
Completed in 1380ms (View: 201, DB: 1048) | 200 OK [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-09 16:31:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (19.3ms)
  [4;35;1mUser Load (20.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (9.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:00.891687', "perishable_token" = E'OaLq3nnN9CHGbHbgNP0A', "last_request_at" = '2009-10-09 12:31:00.889879' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 718ms (View: 456, DB: 54) | 200 OK [http://localhost/admin/categories/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-09 16:31:05) [POST]
  Parameters: {"category"=>{"name"=>"food"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'food', '2009-10-09 12:31:06.431125', '2009-10-09 12:31:06.431125') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/3
Completed in 874ms (DB: 775) | 302 Found [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-09 16:31:06) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (32.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:07.164251', "perishable_token" = E'bla8UcACSJ1ssCejhz_J', "last_request_at" = '2009-10-09 12:31:07.161864' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 634ms (View: 359, DB: 58) | 200 OK [http://localhost/admin/categories/3]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-09 16:31:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (8.4ms)
Rendered admin/categories/_category (1.1ms)
Rendered admin/categories/_category (5.4ms)
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:09.337906', "perishable_token" = E'k4VOTHZU7lkQgyetT1AQ', "last_request_at" = '2009-10-09 12:31:09.332156' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 672ms (View: 420, DB: 28) | 200 OK [http://localhost/admin/categories]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#new (for 127.0.0.1 at 2009-10-09 16:31:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/categories"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/categories/new
Rendered admin/categories/_form (3.4ms)
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (4.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:11.657643', "perishable_token" = E'yFx_i3sFBKTqWhx6sNc7', "last_request_at" = '2009-10-09 12:31:11.647940' WHERE "id" = 2[0m
  [4;35;1mSQL (132.2ms)[0m   [0mCOMMIT[0m
Completed in 457ms (View: 89, DB: 144) | 200 OK [http://localhost/admin/categories/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#create (for 127.0.0.1 at 2009-10-09 16:31:17) [POST]
  Parameters: {"category"=>{"name"=>"other"}, "commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mSQL (15.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES(E'other', '2009-10-09 12:31:17.169605', '2009-10-09 12:31:17.169605') RETURNING "id"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/categories/4
Completed in 131ms (DB: 26) | 302 Found [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#show (for 127.0.0.1 at 2009-10-09 16:31:17) [GET]
  Parameters: {"action"=>"show", "id"=>"4", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;35;1mCategory Load (2.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 4)[0m
Rendering template within layouts/application
Rendering admin/categories/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:17.480429', "perishable_token" = E'MgP5y36knrmcDBIwzSy4', "last_request_at" = '2009-10-09 12:31:17.478624' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 317ms (View: 70, DB: 11) | 200 OK [http://localhost/admin/categories/4]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::CategoriesController#index (for 127.0.0.1 at 2009-10-09 16:31:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/categories"}
Locale set to 'en-US'
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendering template within layouts/application
Rendering admin/categories/index
Rendered admin/categories/_category (11.2ms)
Rendered admin/categories/_category (1.1ms)
Rendered admin/categories/_category (1.3ms)
Rendered admin/categories/_category (1.1ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:19.337919', "perishable_token" = E'eeIlw-P4K64CxCfmFTxk', "last_request_at" = '2009-10-09 12:31:19.332380' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 366ms (View: 74, DB: 10) | 200 OK [http://localhost/admin/categories]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::MainController#index (for 127.0.0.1 at 2009-10-09 16:31:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/main"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/main/index
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:28.241945', "perishable_token" = E'7unhrzpVAhulLITtK65c', "last_request_at" = '2009-10-09 12:31:28.240128' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 197ms (View: 110, DB: 8) | 200 OK [http://localhost/admin/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-09 16:31:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:31.120812', "perishable_token" = E'EmKBgpW2B5zOSV4oqRWb', "last_request_at" = '2009-10-09 12:31:31.118972' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 237ms (View: 80, DB: 16) | 200 OK [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-09 16:31:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (4.6ms)
  [4;36;1mUser Load (3.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:31:33.420164', "perishable_token" = E'T1_y_h3D8FQ7cU4otq1v', "last_request_at" = '2009-10-09 12:31:33.418209' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 398ms (View: 261, DB: 10) | 200 OK [http://localhost/admin/posting_types/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-09 16:33:23) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "posting_type"=>{"name"=>"rent"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'rent', '2009-10-09 12:33:23.558832', '2009-10-09 12:33:23.558832') RETURNING "id"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/1
Completed in 78ms (DB: 7) | 302 Found [http://localhost/admin/posting_types]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-09 16:33:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 1)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:24.008842', "perishable_token" = E'Mc-sgQLHtfsjjHtj-gsu', "last_request_at" = '2009-10-09 12:33:24.004759' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 226ms (View: 96, DB: 9) | 200 OK [http://localhost/admin/posting_types/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#index (for 127.0.0.1 at 2009-10-09 16:33:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendering template within layouts/application
Rendering admin/posting_types/index
Rendered admin/posting_types/_posting_type (28.3ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (4.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:25.915152', "perishable_token" = E'XqDm-y654OU5Qnk8Ik3N', "last_request_at" = '2009-10-09 12:33:25.913242' WHERE "id" = 2[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Completed in 373ms (View: 98, DB: 13) | 200 OK [http://localhost/admin/posting_types]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#new (for 127.0.0.1 at 2009-10-09 16:33:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering admin/posting_types/new
Rendered admin/posting_types/_form (2.9ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:27.802299', "perishable_token" = E'JZIyOXE6RWGCxKlNVZII', "last_request_at" = '2009-10-09 12:33:27.799846' WHERE "id" = 2[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Completed in 354ms (View: 203, DB: 9) | 200 OK [http://localhost/admin/posting_types/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-09 16:33:33) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "posting_type"=>{"name"=>"borrow"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'borrow', '2009-10-09 12:33:33.779280', '2009-10-09 12:33:33.779280') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/2
Completed in 76ms (DB: 6) | 302 Found [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-09 16:33:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 2)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:34.308464', "perishable_token" = E'RnnB4l_rKej8sg0x2p8Y', "last_request_at" = '2009-10-09 12:33:34.306316' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 429ms (View: 66, DB: 9) | 200 OK [http://localhost/admin/posting_types/2]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-09 16:33:40) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "posting_type"=>{"name"=>"need"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'need', '2009-10-09 12:33:40.106773', '2009-10-09 12:33:40.106773') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/3
Completed in 73ms (DB: 6) | 302 Found [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-09 16:33:40) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 3)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:40.532695', "perishable_token" = E'SB-fEBvPXlxG4yb52MXD', "last_request_at" = '2009-10-09 12:33:40.530881' WHERE "id" = 2[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mCOMMIT[0m
Completed in 237ms (View: 61, DB: 57) | 200 OK [http://localhost/admin/posting_types/3]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#create (for 127.0.0.1 at 2009-10-09 16:33:47) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"Xy6EuhuphGeAbirR7ajuUZvz/Ga7grtb2sm3F6FDkZ0=", "posting_type"=>{"name"=>"buy"}, "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO "posting_types" ("name", "created_at", "updated_at") VALUES(E'buy', '2009-10-09 12:33:47.285797', '2009-10-09 12:33:47.285797') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/posting_types/4
Completed in 79ms (DB: 7) | 302 Found [http://localhost/admin/posting_types]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Admin::PostingTypesController#show (for 127.0.0.1 at 2009-10-09 16:33:47) [GET]
  Parameters: {"action"=>"show", "id"=>"4", "controller"=>"admin/posting_types"}
Locale set to 'en-US'
  [4;36;1mPostingType Load (4.1ms)[0m   [0;1mSELECT * FROM "posting_types" WHERE ("posting_types"."id" = 4)[0m
Rendering template within layouts/application
Rendering admin/posting_types/show
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:47.553494', "perishable_token" = E'diWOPrPGWFS6cpiXZMpX', "last_request_at" = '2009-10-09 12:33:47.549461' WHERE "id" = 2[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Completed in 180ms (View: 60, DB: 13) | 200 OK [http://localhost/admin/posting_types/4]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-09 16:33:55) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (37.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:33:55.808554', "perishable_token" = E'l8GodxfZzmfKZDaJqFUA', "last_request_at" = '2009-10-09 12:33:55.805114' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (1.9ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 240ms (View: 56, DB: 49) | 200 OK [http://localhost/account/edit]
  [4;35;1mSQL (11.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-09 16:36:11) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-09 12:36:11.682245', "perishable_token" = E'OQBWHPW3IWDhDpRIsugf', "last_request_at" = '2009-10-09 12:36:11.680432' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 332ms (View: 70, DB: 40) | 200 OK [http://localhost/account/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-09 16:36:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:36:13.862382', "perishable_token" = E'2ZQL9UcVGEkz0nxzYxVV', "last_request_at" = '2009-10-09 12:36:13.860351' WHERE "id" = 2[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Completed in 330ms (View: 96, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-09 16:36:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.5ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (224.7ms)
Rendered postings/_googlemaps (61.4ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-09 12:36:16.303260', "perishable_token" = E't-3jAB0OB2hFDeG6v2Kb', "last_request_at" = '2009-10-09 12:36:16.301320' WHERE "id" = 2[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Completed in 480ms (View: 370, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-12 12:16:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 721ms (View: 515, DB: 25) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-12 12:16:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 180ms (View: 84, DB: 5) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-12 12:16:36) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (27.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (21.4ms)[0m   [0;1mUPDATE "users" SET "login_count" = 2, "updated_at" = '2009-10-12 08:16:37.026414', "perishable_token" = E'ybMEXMt24W8mSZAWJT3T', "last_request_at" = '2009-10-12 08:16:37.023387', "last_login_at" = '2009-10-09 12:24:58.846448', "last_login_ip" = E'127.0.0.1', "current_login_at" = '2009-10-12 08:16:36.898231' WHERE "id" = 2[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 516ms (DB: 55) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (2.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-12 12:16:37) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 08:16:37.454489', "perishable_token" = E'3MVX03QcAM7YqqlZoSNR', "last_request_at" = '2009-10-12 08:16:37.450283' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (18.8ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (15.5ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 378ms (View: 118, DB: 46) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 12:16:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 08:16:40.487535', "perishable_token" = E'GQcHECzHKAXh-a-S9lvv', "last_request_at" = '2009-10-12 08:16:40.485598' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 322ms (View: 192, DB: 12) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 12:16:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (16.3ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (18.8ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (273.6ms)
Rendered postings/_googlemaps (20.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 08:16:42.818048', "perishable_token" = E'o3QLfbF0h12gxDBk9kb4', "last_request_at" = '2009-10-12 08:16:42.816137' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 508ms (View: 356, DB: 43) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 12:56:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.2ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (167.9ms)

ActionView::TemplateError (undefined local variable or method `start_location' for #<ActionView::Base:0xb6b892d0>) on line #2 of app/views/postings/_googlemaps.html.haml:
1: = error_messages_for :location
2: - f.fields_for :location, start_location do |lf|
3:   #map_box= render :partial => "/location/map", :locals => {:start_location => nil}

    app/views/postings/_googlemaps.html.haml:2:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/new.html.haml:7:in `_run_haml_app47views47postings47new46html46haml'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:160:in `form_for'
    app/views/postings/new.html.haml:5:in `_run_haml_app47views47postings47new46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (152.5ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:03:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (2.5ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (3.8ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (50.5ms)
Rendered postings/_googlemaps (19.2ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (3.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:03:11.047477', "perishable_token" = E'ykeZDipHzsIvKurWswhq', "last_request_at" = '2009-10-12 09:03:11.045698' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 385ms (View: 133, DB: 17) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-12 13:03:51) [POST]
  Parameters: {"address_line"=>"spb, chugunnaya, 14", "action"=>"index", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "path"=>["location", "update"], "controller"=>"home", "_"=>""}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:03:51.434559', "perishable_token" = E'oXrgdNyRCFK1FJn8p8yn', "last_request_at" = '2009-10-12 09:03:51.432628' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 129ms (View: 81, DB: 8) | 200 OK [http://localhost/location/update]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:04:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.3ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (3.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (53.0ms)
Rendered postings/_googlemaps (18.5ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:04:17.248483', "perishable_token" = E'Shp4_eOmRMh7ZFU_-tps', "last_request_at" = '2009-10-12 09:04:17.246705' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 274ms (View: 155, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-12 13:04:33) [POST]
  Parameters: {"address_line"=>"spb, chugunnaya, 14", "action"=>"index", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "path"=>["location", "update"], "controller"=>"home", "_"=>""}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:04:33.458235', "perishable_token" = E'SEVwap7W2bOSeBd7BJG3', "last_request_at" = '2009-10-12 09:04:33.456290' WHERE "id" = 2[0m
  [4;36;1mSQL (666.3ms)[0m   [0;1mCOMMIT[0m
Completed in 839ms (View: 77, DB: 677) | 200 OK [http://localhost/location/update]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:04:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (152.8ms)
Rendered postings/_googlemaps (11.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 314ms (View: 218, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-12 13:05:47) [POST]
  Parameters: {"address_line"=>"", "action"=>"index", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "path"=>["location", "update"], "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 195ms (View: 152, DB: 5) | 200 OK [http://localhost/location/update]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:06:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (50.2ms)
Rendered postings/_googlemaps (10.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 330ms (View: 115, DB: 18) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:08:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (2.6ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (185.4ms)

ActionView::TemplateError (undefined local variable or method `update_location_path' for #<ActionView::Base:0xb6bd25fc>) on line #8 of app/views/postings/_googlemaps.html.haml:
5: = error_messages_for :location
6: - fields_for :location, start_location do |lf|
7:   = lf.text_field :address_line
8:   = button_to_remote "Update", :url => update_location_path, :with => "'address_line=' + $('location_address_line').value", :update => "google_maps_box"
9:   = lf.hidden_field :lat
10:   = lf.hidden_field :lng
11: %br

    app/views/postings/_googlemaps.html.haml:8:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    app/views/postings/_googlemaps.html.haml:6:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/new.html.haml:7:in `_run_haml_app47views47postings47new46html46haml'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:160:in `form_for'
    app/views/postings/new.html.haml:5:in `_run_haml_app47views47postings47new46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (125.2ms)
Rendered rescues/_request_and_response (107.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:10:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (81.9ms)
Rendered postings/_googlemaps (16.4ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:10:17.821431', "perishable_token" = E'2EnR8l6zDY6NlAriKrhi', "last_request_at" = '2009-10-12 09:10:17.819212' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 639ms (View: 522, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:10:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (2.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (49.2ms)
Rendered postings/_googlemaps (12.6ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 443ms (View: 119, DB: 8) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing LocationController#update (for 127.0.0.1 at 2009-10-12 13:10:36) [POST]
  Parameters: {"address_line"=>"", "action"=>"update", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"location"}
Locale set to 'en-US'

NoMethodError (undefined method `respnd_to' for #<LocationController:0xb6efabe4>):
  app/controllers/location_controller.rb:3:in `update'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (84.1ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:10:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (2.3ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (159.6ms)
Rendered postings/_googlemaps (12.8ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 331ms (View: 222, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:10:59) [POST]
  Parameters: {"location"=>{"address_line"=>"spb, chugunnaya, 14", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (34.6ms)[0m   [0mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:10:59.896410', NULL, E'', '2009-10-12 09:10:59.896410', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 226ms (DB: 42) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:11:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (20.1ms)
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 215ms (View: 85, DB: 9) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 13:11:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 1)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 248ms (View: 140, DB: 6) | 200 OK [http://localhost/postings/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 13:11:08) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 1)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (59.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 277ms (View: 161, DB: 10) | 200 OK [http://localhost/postings/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:11:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (12.0ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 185ms (View: 71, DB: 9) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (3.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:11:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (13.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (217.1ms)
Rendered postings/_googlemaps (18.5ms)
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 397ms (View: 281, DB: 26) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update (for 127.0.0.1 at 2009-10-12 13:11:49) [POST]
  Parameters: {"address_line"=>"spb, chugunnaya, 14", "action"=>"update", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: spb, chugunnaya, 14. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, chugunnaya, 14</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>

ThreadError (killed thread):
  app/controllers/location_controller.rb:7:in `new'
  app/controllers/location_controller.rb:7:in `update'
  app/controllers/location_controller.rb:3:in `update'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (123.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update (for 127.0.0.1 at 2009-10-12 13:12:47) [POST]
  Parameters: {"address_line"=>"spb, chugunnaya, 14", "action"=>"update", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:13:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (88.0ms)
Rendered postings/_googlemaps (20.0ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:13:51.497113', "perishable_token" = E'Xr-2iCz6AwEZzS4Tfom0', "last_request_at" = '2009-10-12 09:13:51.493502' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 705ms (View: 592, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:14:00) [POST]
  Parameters: {"location"=>{"address_line"=>"spb, chugunnaya 14", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:14:00.995912', NULL, E'', '2009-10-12 09:14:00.995912', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 227ms (DB: 10) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:14:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (10.1ms)
Rendered postings/_posting (1.7ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:14:01.354614', "perishable_token" = E'CjvmFZT4kKLD_j3IHUSk', "last_request_at" = '2009-10-12 09:14:01.352682' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 323ms (View: 87, DB: 11) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:14:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.3ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (47.1ms)
Rendered postings/_googlemaps (19.7ms)
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 345ms (View: 237, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:14:52) [POST]
  Parameters: {"location"=>{"address_line"=>"russia, spb", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:14:52.798463', NULL, E'', '2009-10-12 09:14:52.798463', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 89ms (DB: 8) | 302 Found [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:14:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (7.5ms)
Rendered postings/_posting (2.8ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 203ms (View: 66, DB: 9) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:15:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (63.9ms)
Rendered postings/_googlemaps (12.2ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:15:07.864237', "perishable_token" = E'nQsUrQlW1Z0tFZt_jVF3', "last_request_at" = '2009-10-12 09:15:07.862301' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 407ms (View: 145, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update_coordinates (for 127.0.0.1 at 2009-10-12 13:15:14) [POST]
  Parameters: {"address_line"=>"russia, spb", "action"=>"update_coordinates", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: russia, spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>russia, spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, Saint Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>Saint Petersburg</AdministrativeAreaName><Locality><LocalityName>Saint Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendered postings/_googlemaps (15.6ms)
Completed in 31544ms (View: 18, DB: 6) | 200 OK [http://localhost/location_update]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update_coordinates (for 127.0.0.1 at 2009-10-12 13:15:46) [POST]
  Parameters: {"address_line"=>"russia, spb", "action"=>"update_coordinates", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: russia, spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>russia, spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, Saint Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>Saint Petersburg</AdministrativeAreaName><Locality><LocalityName>Saint Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendered postings/_googlemaps (6.3ms)
Completed in 1847ms (View: 10, DB: 5) | 200 OK [http://localhost/location_update]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update_coordinates (for 127.0.0.1 at 2009-10-12 13:15:48) [POST]
  Parameters: {"address_line"=>"russia, spb", "action"=>"update_coordinates", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: russia, spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>russia, spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, Saint Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>Saint Petersburg</AdministrativeAreaName><Locality><LocalityName>Saint Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendered postings/_googlemaps (6.8ms)
Completed in 2132ms (View: 10, DB: 4) | 200 OK [http://localhost/location_update]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update_coordinates (for 127.0.0.1 at 2009-10-12 13:15:51) [POST]
  Parameters: {"address_line"=>"russia, spb, chugunaya 14", "action"=>"update_coordinates", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: russia, spb, chugunaya 14. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>russia, spb, chugunaya 14</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendered postings/_googlemaps (6.4ms)
Completed in 1889ms (View: 9, DB: 4) | 200 OK [http://localhost/location_update]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:19:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (192.1ms)
Rendered postings/_googlemaps (17.1ms)
ERROR: compiling _run_haml_app47views47layouts47application46html46haml RAISED compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
..., :content => h @meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &...
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...content => h @meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &...
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
Function body:           def _run_haml_app47views47layouts47application46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :ugly=>false, :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>\n  <head>\n    <title>\n      ", false, 3);haml_temp =  h(yield(:title) || "NeiList");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("    </title>\n    <meta content='text/xhtml; charset=utf-8' http-equiv='content-type' />\n    <link href='/images/favicon.ico' rel='icon' type='image/png' />\n", false, -1);_hamlout.open_tag("meta", true, true, false, false, {}, false, false, nil, nil,  :name => "keywords", :content => h @meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );
_hamlout.open_tag("meta", true, true, false, false, {}, false, false, nil, nil,  :name => "description", :content => h @meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );


_hamlout.push_text("    <!-- \n      Framework CSS\n    -->\n");_hamlout.open_tag("link", true, true, false, false, {}, false, false, nil, nil,  :href => "/stylesheets/blueprint/screen.css", :rel => "stylesheet", :media => "screen, projection", :type => "text/css" );



_hamlout.push_text("    <link href='/stylesheets/blueprint/print.css' media='print' rel='stylesheet' type='text/css' />\n    <!-- \n      [if IE]><link rel=\"stylesheet\" href=\"/stylesheets/blueprint/ie.css\" type=\"text/css\" media=\"screen, projection\"><![endif]\n    -->\n    ");haml_temp =  stylesheet_link_tag 'application';
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    ");haml_temp =  javascript_include_tag :defaults;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false); if @google_map;

_hamlout.push_text("    <script src='http://maps.google.com/maps/api/js?sensor=false' type='text/javascript'></script>\n");end;

_hamlout.push_text("    <!-- \n      additional head elements\n    -->\n    ");haml_temp =  yield :head;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);



_hamlout.push_text("  </head>\n  <body>\n    <div class='container showgrid' id='container'>\n      <div class='span-24 last' id='header'>\n        <div class='span-24 last language_bar' id='header_supertitle'>\n          ", false, 3);haml_temp =  locale_link("en-US", "English");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);


_hamlout.push_text("          &nbsp;\n        </div>\n        <div class='span-24 last' id='header_title'>\n          <span class='prepend-1'>\n            ", false, 1);haml_temp =  t("app.site_title");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("          </span>\n        </div>\n        <div class='span-24 last' id='header_subtitle'>\n          <span class='prepend-2'>\n            ");haml_temp =  t("app.site_subtitle");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("          </span>\n        </div>\n      </div>\n      <div class='span-24 last menu_bar' id='nav'>\n        <span style='float: right'>\n", false, -1); if !current_user;
_hamlout.push_text("          ");haml_temp =  link_to_unless_current t('app.menu.postings'), postings_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.register'), new_account_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.login'), new_user_session_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.forgot_password'), new_password_reset_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false); else;
_hamlout.push_text("          ");haml_temp =  link_to_unless_current t('app.menu.postings'), postings_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.admin_users'), admin_users_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.my_account'), edit_account_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.logout'), user_session_path, :method => :delete,  :confirm => t('app.menu.logout_confirm');
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;










_hamlout.push_text("          &nbsp;\n        </span>\n        &nbsp;\n      </div>\n      <div class='span-24 last' id='main_body'>\n        <!-- \n          Left column here\n        -->\n        <div class='span-4'>\n          &nbsp;\n        </div>\n        <!-- \n          Middle column here\n        -->\n        <div class='span-16' id='content'>\n          <hr class='plain' />\n"); if show_title?;

_hamlout.push_text("          <h1>\n            ", false, 1);haml_temp =  h yield(:title);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          </h1>\n", false, -1);end;_hamlout.push_text("          ");haml_temp =  flash_messages;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          ");haml_temp =  yield :layout;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);








_hamlout.push_text("        </div>\n        <!-- \n          Right column here\n        -->\n        <div class='span-4 last'>\n          &nbsp;\n        </div>\n      </div>\n      <div class='span-24 last' id='footer'>\n        <p>\n          Copyright &copy; 2009 dontrush.org\n        </p>\n      </div>\n    </div>\n    <!-- \n      additional elements e.g. javascript\n    -->\n    ", false, -3);haml_temp =  yield :foot;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  </body>\n</html>\n", false, -2);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:83:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
..., :content => h @meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &...
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...content => h @meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &...
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;) );
                              ^) on line #8 of app/views/layouts/application.html.haml:
5:       = h(yield(:title) || "NeiList")
6:     %meta{ :content => "text/xhtml; charset=utf-8", "http-equiv" => "content-type" }
7:     %link{ :href => "/images/favicon.ico", :rel => "icon", :type => "image/png" }
8:     %meta{ :name => "keywords", :content => h @meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) }
9:     %meta{ :name => "description", :content => h @meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;) }
10:     /
11:       Framework CSS

    app/views/layouts/application.html.haml:83:in `compile!'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (142.8ms)
Rendered rescues/_request_and_response (6.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:20:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (58.9ms)
Rendered postings/_googlemaps (13.3ms)
ERROR: compiling _run_haml_app47views47layouts47application46html46haml RAISED compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
Function body:           def _run_haml_app47views47layouts47application46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :ugly=>false, :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>\n  <head>\n    <title>\n      ", false, 3);haml_temp =  h(yield(:title) || "NeiList");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("    </title>\n    <meta content='text/xhtml; charset=utf-8' http-equiv='content-type' />\n    <link href='/images/favicon.ico' rel='icon' type='image/png' />\n", false, -1);_hamlout.open_tag("meta", true, true, false, false, {}, false, false, nil, nil,  :name => "keywords", :content => h(@meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );
_hamlout.open_tag("meta", true, true, false, false, {}, false, false, nil, nil,  :name => "description", :content => h(@meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );


_hamlout.push_text("    <!-- \n      Framework CSS\n    -->\n");_hamlout.open_tag("link", true, true, false, false, {}, false, false, nil, nil,  :href => "/stylesheets/blueprint/screen.css", :rel => "stylesheet", :media => "screen, projection", :type => "text/css" );



_hamlout.push_text("    <link href='/stylesheets/blueprint/print.css' media='print' rel='stylesheet' type='text/css' />\n    <!-- \n      [if IE]><link rel=\"stylesheet\" href=\"/stylesheets/blueprint/ie.css\" type=\"text/css\" media=\"screen, projection\"><![endif]\n    -->\n    ");haml_temp =  stylesheet_link_tag 'application';
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    ");haml_temp =  javascript_include_tag :defaults;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false); if @google_map;

_hamlout.push_text("    <script src='http://maps.google.com/maps/api/js?sensor=false' type='text/javascript'></script>\n");end;

_hamlout.push_text("    <!-- \n      additional head elements\n    -->\n    ");haml_temp =  yield :head;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);



_hamlout.push_text("  </head>\n  <body>\n    <div class='container showgrid' id='container'>\n      <div class='span-24 last' id='header'>\n        <div class='span-24 last language_bar' id='header_supertitle'>\n          ", false, 3);haml_temp =  locale_link("en-US", "English");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);


_hamlout.push_text("          &nbsp;\n        </div>\n        <div class='span-24 last' id='header_title'>\n          <span class='prepend-1'>\n            ", false, 1);haml_temp =  t("app.site_title");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("          </span>\n        </div>\n        <div class='span-24 last' id='header_subtitle'>\n          <span class='prepend-2'>\n            ");haml_temp =  t("app.site_subtitle");
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("          </span>\n        </div>\n      </div>\n      <div class='span-24 last menu_bar' id='nav'>\n        <span style='float: right'>\n", false, -1); if !current_user;
_hamlout.push_text("          ");haml_temp =  link_to_unless_current t('app.menu.postings'), postings_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.register'), new_account_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.login'), new_user_session_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.forgot_password'), new_password_reset_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false); else;
_hamlout.push_text("          ");haml_temp =  link_to_unless_current t('app.menu.postings'), postings_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.admin_users'), admin_users_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.my_account'), edit_account_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          |\n          ");haml_temp =  link_to_unless_current t('app.menu.logout'), user_session_path, :method => :delete,  :confirm => t('app.menu.logout_confirm');
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;










_hamlout.push_text("          &nbsp;\n        </span>\n        &nbsp;\n      </div>\n      <div class='span-24 last' id='main_body'>\n        <!-- \n          Left column here\n        -->\n        <div class='span-4'>\n          &nbsp;\n        </div>\n        <!-- \n          Middle column here\n        -->\n        <div class='span-16' id='content'>\n          <hr class='plain' />\n"); if show_title?;

_hamlout.push_text("          <h1>\n            ", false, 1);haml_temp =  h yield(:title);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          </h1>\n", false, -1);end;_hamlout.push_text("          ");haml_temp =  flash_messages;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          ");haml_temp =  yield :layout;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);








_hamlout.push_text("        </div>\n        <!-- \n          Right column here\n        -->\n        <div class='span-4 last'>\n          &nbsp;\n        </div>\n      </div>\n      <div class='span-24 last' id='footer'>\n        <p>\n          Copyright &copy; 2009 dontrush.org\n        </p>\n      </div>\n    </div>\n    <!-- \n      additional elements e.g. javascript\n    -->\n    ", false, -3);haml_temp =  yield :foot;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  </body>\n</html>\n", false, -2);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:83:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:8: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ';', expecting ')'
...(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/views/layouts/application.html.haml:9: syntax error, unexpected ')', expecting kEND
.../?[^&gt;]*&gt;/, &quot;&quot;)) );
                              ^) on line #8 of app/views/layouts/application.html.haml:
5:       = h(yield(:title) || "NeiList")
6:     %meta{ :content => "text/xhtml; charset=utf-8", "http-equiv" => "content-type" }
7:     %link{ :href => "/images/favicon.ico", :rel => "icon", :type => "image/png" }
8:     %meta{ :name => "keywords", :content => h(@meta_keywords.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) }
9:     %meta{ :name => "description", :content => h(@meta_description.gsub(/&lt;\/?[^&gt;]*&gt;/, &quot;&quot;)) }
10:     /
11:       Framework CSS

    app/views/layouts/application.html.haml:83:in `compile!'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (126.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:20:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (58.2ms)
Rendered postings/_googlemaps (16.0ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:20:48.342912', "perishable_token" = E'tARcL_7Y-TJKMivbLKAZ', "last_request_at" = '2009-10-12 09:20:48.339619' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 340ms (View: 208, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:21:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (2.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (63.5ms)
Rendered postings/_googlemaps (26.2ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:21:54.879932', "perishable_token" = E'ZUwU4T6yZqczKZ6yVwIZ', "last_request_at" = '2009-10-12 09:21:54.877217' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 453ms (View: 292, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing LocationController#update_coordinates (for 127.0.0.1 at 2009-10-12 13:22:03) [POST]
  Parameters: {"address_line"=>"spb, chugunnaya 14", "action"=>"update_coordinates", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"location", "_"=>""}
Locale set to 'en-US'
Google geocoding. Address: spb, chugunnaya 14. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, chugunnaya 14</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendered postings/_googlemaps (14.2ms)
Completed in 8250ms (View: 16, DB: 4) | 200 OK [http://localhost/location_update]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:28:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (61.8ms)
Rendered postings/_googlemaps (19.0ms)
  [4;36;1mUser Load (2.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 498ms (View: 177, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:30:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (67.8ms)
Rendered postings/_googlemaps (26.0ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:30:55.801214', "perishable_token" = E'8WqJqGcAK9TEv-_kD25_', "last_request_at" = '2009-10-12 09:30:55.798929' WHERE "id" = 2[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Completed in 463ms (View: 184, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:33:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (4.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (62.8ms)
Rendered postings/_googlemaps (26.6ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:33:19.948647', "perishable_token" = E'U5wyTN1_MFGOKt9FuVqz', "last_request_at" = '2009-10-12 09:33:19.946390' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 325ms (View: 180, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:33:28) [POST]
  Parameters: {"location"=>{"address_line"=>"spb, chugunnaya 14", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mSQL (2.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:33:28.957174', NULL, E'', '2009-10-12 09:33:28.957174', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 115ms (DB: 11) | 302 Found [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:33:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (10.3ms)
Rendered postings/_posting (144.7ms)
Rendered postings/_posting (4.3ms)
Rendered postings/_posting (2.6ms)
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:33:29.540382', "perishable_token" = E'rpujUXiLEff6PzPuBNTS', "last_request_at" = '2009-10-12 09:33:29.537984' WHERE "id" = 2[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCOMMIT[0m
Completed in 414ms (View: 265, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:33:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.7ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (179.1ms)
Rendered postings/_googlemaps (19.0ms)
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 09:33:32.035596', "perishable_token" = E'Hf9vKZdYZABtBjpDeZYB', "last_request_at" = '2009-10-12 09:33:32.033244' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 477ms (View: 316, DB: 17) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:33:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.8ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (69.6ms)
Rendered postings/_googlemaps (17.7ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 488ms (View: 163, DB: 8) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:36:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (2.4ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (67.6ms)
Rendered postings/_googlemaps (17.5ms)
  [4;36;1mUser Load (6.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:36:41.962766', "perishable_token" = E'PBm8uxEGT3uv_AkxH7tI', "last_request_at" = '2009-10-12 09:36:41.957917' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 449ms (View: 167, DB: 17) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:38:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (129.8ms)
Rendered postings/_googlemaps (31.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 425ms (View: 289, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:38:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (60.7ms)
Rendered postings/_googlemaps (15.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 278ms (View: 144, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:39:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (61.5ms)
Rendered postings/_googlemaps (14.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 282ms (View: 145, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:41:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (11.4ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (89.5ms)
Rendered postings/_googlemaps (14.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 388ms (View: 175, DB: 19) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:45:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (4.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (71.3ms)
Rendered postings/_googlemaps (28.3ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:45:45.465329', "perishable_token" = E'jSj7cvBT6HYE28oaya4h', "last_request_at" = '2009-10-12 09:45:45.463038' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 384ms (View: 198, DB: 46) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:45:51) [POST]
  Parameters: {"location"=>{"address_line"=>"spb, chugunnaya 14", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:45:51.885374', NULL, E'', '2009-10-12 09:45:51.885374', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 113ms (DB: 7) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:45:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (9.8ms)
Rendered postings/_posting (5.0ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (3.4ms)
Rendered postings/_posting (2.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:45:52.625347', "perishable_token" = E'JnpQoX-QAu_5Ni3y7pMA', "last_request_at" = '2009-10-12 09:45:52.621979' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 365ms (View: 224, DB: 13) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:45:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (250.2ms)
Rendered postings/_googlemaps (18.3ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:45:55.727161', "perishable_token" = E'X4HGpNVwcCrK5jyM7oWg', "last_request_at" = '2009-10-12 09:45:55.724776' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 666ms (View: 365, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:54:10) [POST]
  Parameters: {"location"=>{"address_line"=>"spb, chugunnaya 14", "lng"=>"150.644", "lat"=>"-34.397"}, "commit"=>"Create", "posting"=>{"title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 09:55:05.928164', NULL, E'', '2009-10-12 09:55:05.928164', NULL, NULL, 1, NULL, 1, NULL, E'') RETURNING "id"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 55165ms (DB: 7) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 13:55:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (10.9ms)
Rendered postings/_posting (6.2ms)
Rendered postings/_posting (4.1ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (2.7ms)
Rendered postings/_posting (2.4ms)
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (1.8ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:55:06.463217', "perishable_token" = E'jBGlkhfIcy6u4Ds99dAT', "last_request_at" = '2009-10-12 09:55:06.459259' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 395ms (View: 217, DB: 13) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:55:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (87.1ms)
Rendered postings/_googlemaps (28.2ms)
  [4;36;1mUser Load (3.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:55:09.788655', "perishable_token" = E'f-HVEuHs-eqa6RKy0zrE', "last_request_at" = '2009-10-12 09:55:09.785646' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 494ms (View: 333, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 13:58:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (80.1ms)
Rendered postings/_googlemaps (129.7ms)
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 09:58:21.036876', "perishable_token" = E'YQheyMJH3lX1mLqbhPIG', "last_request_at" = '2009-10-12 09:58:21.032819' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 495ms (View: 352, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 13:58:36) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"lng"=>"150.644", "lat"=>"-34.397"}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "address_line"=>"spb, chugunnaya 14", "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-615226228) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (159.1ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:01:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.2ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (211.3ms)
Rendered postings/_googlemaps (27.1ms)
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 452ms (View: 315, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:01:34) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"lng"=>"150.644", "lat"=>"-34.397"}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "address_line"=>"spb, chugunnaya, 14", "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-615173548) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (251.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:07:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (61.0ms)
Rendered postings/_googlemaps (132.3ms)
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 411ms (View: 273, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:07:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (3.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (60.9ms)
Rendered postings/_googlemaps (27.5ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 409ms (View: 274, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:08:12) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"lng"=>"150.644", "lat"=>"-34.397"}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "address_line"=>"spb, chugunnaya, 14", "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-615173408) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (315.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:08:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (60.5ms)
Rendered postings/_googlemaps (24.6ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:08:50.699403', "perishable_token" = E'eadoTstg3JhVu71pyuKE', "last_request_at" = '2009-10-12 10:08:50.696967' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 451ms (View: 301, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:10:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (2.3ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (210.9ms)
Rendered postings/_googlemaps (18.1ms)
  [4;35;1mUser Load (5.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 444ms (View: 295, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (6.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:11:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (204.5ms)
Rendered postings/_googlemaps (18.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 430ms (View: 297, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:11:44) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"lng"=>"", "lat"=>""}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "address_line"=>"spb, chugunnaya, 14", "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-615142928) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (250.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:12:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (92.4ms)
Rendered postings/_googlemaps (16.6ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 424ms (View: 290, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:13:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (58.1ms)
Rendered postings/_googlemaps (14.0ms)
  [4;36;1mUser Load (3.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 387ms (View: 249, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:18:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (176.4ms)
Rendered postings/_googlemaps (16.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 406ms (View: 268, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:21:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (3.3ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (188.2ms)
Rendered postings/_googlemaps (27.2ms)
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 10:21:49.053517', "perishable_token" = E'pBzqJyMtRpMUGIQ6wPEn', "last_request_at" = '2009-10-12 10:21:49.051039' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 484ms (View: 318, DB: 15) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:22:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (3.1ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (65.8ms)
Rendered postings/_googlemaps (57.1ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 10:22:02.259423', "perishable_token" = E'fBhQrJi11tmS1i0TZYp5', "last_request_at" = '2009-10-12 10:22:02.256662' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 493ms (View: 219, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:22:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (64.5ms)
Rendered postings/_googlemaps (16.1ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 292ms (View: 149, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:24:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (4.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (63.4ms)

ActionView::TemplateError (undefined method `field_tag' for #<ActionView::Helpers::FormBuilder:0xb6b5c99c>) on line #6 of app/views/postings/_googlemaps.html.haml:
3:   = google_map_tag(start_location)
4: .prepend-1.span-12.last= error_messages_for :location
5: - f.fields_for :location do |lf|
6:   .span-12.prepend-1= lf.field_tag :address_line, :class => "span-12"
7:   .span-3.last= button_to_function("Update", "codeAddress($('address_line').value)")
8:   = lf.hidden_field :lat
9:   = lf.hidden_field :lng

    app/views/postings/_googlemaps.html.haml:6:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:186:in `fields_for'
    app/views/postings/_googlemaps.html.haml:5:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/new.html.haml:7:in `_run_haml_app47views47postings47new46html46haml'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:160:in `form_for'
    app/views/postings/new.html.haml:5:in `_run_haml_app47views47postings47new46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (349.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:24:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (62.6ms)

ActionView::TemplateError (undefined method `field_tag' for #<ActionView::Helpers::FormBuilder:0xb6a146fc>) on line #6 of app/views/postings/_googlemaps.html.haml:
3:   = google_map_tag(start_location)
4: .prepend-1.span-12.last= error_messages_for :location
5: - f.fields_for :location do |lf|
6:   .span-12.prepend-1= lf.field_tag :address_line, :class => "span-12"
7:   .span-3.last= button_to_function("Update", "codeAddress($('address_line').value)")
8:   = lf.hidden_field :lat
9:   = lf.hidden_field :lng

    app/views/postings/_googlemaps.html.haml:6:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:186:in `fields_for'
    app/views/postings/_googlemaps.html.haml:5:in `_run_haml_app47views47postings47_googlemaps46html46haml_locals_f_googlemaps_object'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/new.html.haml:7:in `_run_haml_app47views47postings47new46html46haml'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:150:in `fields_for'
    searchlogic (1.6.6) lib/searchlogic/helpers/form.rb:160:in `form_for'
    app/views/postings/new.html.haml:5:in `_run_haml_app47views47postings47new46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (197.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:25:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (66.0ms)
Rendered postings/_googlemaps (27.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 314ms (View: 169, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:25:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (68.3ms)
Rendered postings/_googlemaps (18.1ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 294ms (View: 155, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:25:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (58.8ms)
Rendered postings/_googlemaps (21.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 385ms (View: 147, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:25:54) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"spb, chugunnaya, 14", "lng"=>"", "lat"=>""}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614618048) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (128.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:26:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (68.8ms)
Rendered postings/_googlemaps (31.3ms)
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 331ms (View: 187, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:26:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.8ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (2.4ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (60.4ms)
Rendered postings/_googlemaps (18.5ms)
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 415ms (View: 169, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:27:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (61.9ms)
Rendered postings/_googlemaps (26.2ms)
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 418ms (View: 162, DB: 8) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:31:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (59.9ms)
Rendered postings/_googlemaps (19.4ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 463ms (View: 323, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:31:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (2.4ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (57.9ms)
Rendered postings/_googlemaps (18.5ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 446ms (View: 266, DB: 9) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (6.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:31:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (62.5ms)
Rendered postings/_googlemaps (18.4ms)
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 444ms (View: 303, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:32:30) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"Россия, 195197, город Санкт-Петербург, Полюстровский просп., 68Б", "lng"=>"", "lat"=>""}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614999698) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (272.1ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:33:30) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"Россия, 195197, город Санкт-Петербург, Полюстровский просп., 68Б", "lng"=>"", "lat"=>""}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614905308) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (257.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:33:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (59.9ms)
Rendered postings/_googlemaps (18.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 387ms (View: 246, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:34:09) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"Россия, 194044, город Санкт-Петербург, Чугунная ул., 14", "lng"=>"30.3524169", "lat"=>"59.9722471"}, "title"=>"test title", "posting_type_id"=>"2", "category_id"=>"2", "description"=>"description"}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614894848) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (381.0ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:35:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (3.5ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (66.2ms)
Rendered postings/_googlemaps (33.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 406ms (View: 171, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (4.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:35:10) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"Avon NSW, Australia", "lng"=>"150.644", "lat"=>"-34.397"}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614806418) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (125.5ms)
Rendered rescues/_request_and_response (122.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:40:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (63.4ms)
Rendered postings/_googlemaps (45.3ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 10:40:31.462926', "perishable_token" = E'xAiNd1BBRQyeEVNldZNO', "last_request_at" = '2009-10-12 10:40:31.459626' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 486ms (View: 196, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:40:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (63.4ms)
Rendered postings/_googlemaps (35.6ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 10:40:57.096523', "perishable_token" = E'BVpvRhiyCDpa45fpqI0o', "last_request_at" = '2009-10-12 10:40:57.094026' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 476ms (View: 299, DB: 12) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (6.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:41:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (60.4ms)
Rendered postings/_googlemaps (44.0ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 471ms (View: 304, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:41:40) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"location"=>{"address_line"=>"Avon NSW, Australia", "lng"=>"150.644", "lat"=>"-34.397"}, "title"=>"", "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::AssociationTypeMismatch (Location(#-614975658) expected, got HashWithIndifferentAccess(#-607961858)):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (267.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:45:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (65.5ms)
Rendered postings/_googlemaps (49.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:45:00.752048', "perishable_token" = E'VFBt5pIpWW9jqp_MTsGG', "last_request_at" = '2009-10-12 10:45:00.749406' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 474ms (View: 325, DB: 13) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:46:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (64.2ms)
Rendered postings/_googlemaps (158.0ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:46:07.899368', "perishable_token" = E'kFS2-gzo6bXhmDshq154', "last_request_at" = '2009-10-12 10:46:07.896973' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 472ms (View: 320, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (6.9ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:46:15) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"title"=>"", "location_attributes"=>{"address_line"=>"Avon NSW, Australia", "lng"=>"150.644", "lat"=>"-34.397"}, "posting_type_id"=>"1", "category_id"=>"1", "description"=>""}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Avon NSW, Australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Avon NSW, Australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Avon NSW, Australia</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName><AdministrativeArea><AdministrativeAreaName>NSW</AdministrativeAreaName><Locality><LocalityName>Avon</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-34.2045515" south="-34.4993314" east="150.8908638" west="150.3786262" />
    </ExtendedData>
    <Point><coordinates>150.6347450,-34.3520710,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering postings/new (422)
  [4;35;1mPostingType Load (2.4ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (71.2ms)
Rendered postings/_googlemaps (16.3ms)
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:46:44.573456', "perishable_token" = E'Qov1FDXWh8fTusFaElkZ', "last_request_at" = '2009-10-12 10:46:44.571172' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 29311ms (View: 180, DB: 21) | 422 Unprocessable Entity [http://localhost/postings]
  [4;35;1mSQL (2.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 14:47:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.7ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (75.5ms)
Rendered postings/_googlemaps (47.9ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 374ms (View: 241, DB: 10) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (4.6ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 14:48:18) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"title"=>"dskflahdsasdfa", "location_attributes"=>{"address_line"=>"spb, chugunnaya, 14", "lng"=>"150.644", "lat"=>"-34.397"}, "posting_type_id"=>"1", "category_id"=>"1", "description"=>"dsafaskhdgfkjashdf"}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
Google geocoding. Address: spb, chugunnaya, 14. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, chugunnaya, 14</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mSQL (6.1ms)[0m   [0mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 10:49:30.538886', NULL, E'dskflahdsasdfa', '2009-10-12 10:49:30.538886', NULL, NULL, 1, NULL, 1, NULL, E'dsafaskhdgfkjashdf') RETURNING "id"[0m
  [4;36;1mSQL (50.7ms)[0m   [0;1mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 10:49:30.556144', E'Russian Federation', E'spb, chugunnaya, 14', E'Posting', '2009-10-12 10:49:30.556144', 7, 30.3524169, 59.9722471, E'St Petersburg') RETURNING "id"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 72291ms (DB: 68) | 302 Found [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 14:49:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (8.9ms)
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 386ms (View: 213, DB: 9) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 14:51:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (11.4ms)
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:51:51.340148', "perishable_token" = E'0sRT_81WmNddErWTT83E', "last_request_at" = '2009-10-12 10:51:51.337709' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 379ms (View: 204, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 14:51:54) [GET]
  Parameters: {"action"=>"edit", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (2.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (80.5ms)
  [4;36;1mLocation Load (18.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 7 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (44.0ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:51:55.097658', "perishable_token" = E'4BNL9zjTtzrs2bdadc3b', "last_request_at" = '2009-10-12 10:51:55.095235' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 557ms (View: 332, DB: 32) | 200 OK [http://localhost/postings/7/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 14:52:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (64.2ms)
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 7 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (85.2ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 551ms (View: 392, DB: 10) | 200 OK [http://localhost/postings/7/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#update (for 127.0.0.1 at 2009-10-12 14:53:05) [PUT]
  Parameters: {"commit"=>"Update", "posting"=>{"title"=>"dskflahdsasdfa", "location_attributes"=>{"address_line"=>"Россия, 190000, город Санкт-Петербург, Лабораторный просп.", "lng"=>"30.394417498242174", "lat"=>"59.98803915424974"}, "posting_type_id"=>"1", "category_id"=>"1", "description"=>"dsafaskhdgfkjashdf"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 7 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mLocation Update (0.9ms)[0m   [0mUPDATE "locations" SET "updated_at" = '2009-10-12 10:53:06.024759', "locatable_id" = NULL WHERE "id" = 1[0m
  [4;36;1mSQL (30.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Россия, 190000, город Санкт-Петербург, Лабораторный просп.. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Россия, 190000, город Санкт-Петербург, Лабораторный просп.</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 190000, St Petersburg, Лабораторный просп.</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Пискаревка</DependentLocalityName><Thoroughfare><ThoroughfareName>Лабораторный просп.</ThoroughfareName></Thoroughfare></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9881924" south="59.9793251" east="30.4014399" west="30.3825750" />
    </ExtendedData>
    <Point><coordinates>30.3890750,59.9841625,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 10:53:06.987466', E'Russian Federation', E'Россия, 190000, город Санкт-Петербург, Лабораторный просп.', E'Posting', '2009-10-12 10:53:06.987466', 7, 30.389075, 59.9841625, E'St Petersburg') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 1191ms (DB: 44) | 302 Found [http://localhost/postings/7]
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 14:53:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (9.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 221ms (View: 77, DB: 8) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 14:53:09) [GET]
  Parameters: {"action"=>"show", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 265ms (View: 81, DB: 9) | 200 OK [http://localhost/postings/7]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 14:53:12) [GET]
  Parameters: {"action"=>"edit", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (71.0ms)
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 7 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (29.0ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 378ms (View: 176, DB: 10) | 200 OK [http://localhost/postings/7/edit]
  [4;35;1mSQL (0.7ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 14:58:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (10.7ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (123.0ms)
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 7 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (40.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 10:58:44.145716', "perishable_token" = E'GDId6q5Of4JvJsBCyPGJ', "last_request_at" = '2009-10-12 10:58:44.132407' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 669ms (View: 368, DB: 23) | 200 OK [http://localhost/postings/7/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:03:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (12.5ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 208ms (View: 78, DB: 7) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 15:06:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (78.5ms)
Rendered postings/_googlemaps (23.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 339ms (View: 173, DB: 7) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 15:07:21) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"photo"=>#<File:/tmp/RackMultipart20091012-7119-1oyjsnh-0>, "title"=>"test posting 1", "location_attributes"=>{"address_line"=>"Россия, 194044, город Санкт-Петербург, Чугунная ул., 14", "lng"=>"30.3524169", "lat"=>"59.9722471"}, "posting_type_id"=>"3", "category_id"=>"3", "description"=>"test posting"}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'

ActiveRecord::UnknownAttributeError (unknown attribute: photo):
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (124.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 15:08:54) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"photo"=>#<File:/tmp/RackMultipart20091012-7119-dzurdh-0>, "title"=>"test posting 1", "location_attributes"=>{"address_line"=>"Россия, 194044, город Санкт-Петербург, Чугунная ул., 14", "lng"=>"30.3524169", "lat"=>"59.9722471"}, "posting_type_id"=>"3", "category_id"=>"3", "description"=>"test posting"}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Россия, 194044, город Санкт-Петербург, Чугунная ул., 14. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Россия, 194044, город Санкт-Петербург, Чугунная ул., 14</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Чугунная ул., 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Чугунная ул., 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 11:08:56.380207', 59190, E'test posting 1', '2009-10-12 11:08:56.380207', E'puppies-7164.jpg', E'image/jpeg', 3, NULL, 3, '2009-10-12 11:08:54.491332', E'test posting') RETURNING "id"[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 11:08:56.398000', E'Russian Federation', E'Россия, 194044, город Санкт-Петербург, Чугунная ул., 14', E'Posting', '2009-10-12 11:08:56.398000', 8, 30.3524169, 59.9722471, E'St Petersburg') RETURNING "id"[0m
[paperclip] Saving attachments.
[paperclip] saving /home/vchistyakov/rails_apps/neilist/current/public/system/photos/8/medium/puppies-7164.jpg
[paperclip] saving /home/vchistyakov/rails_apps/neilist/current/public/system/photos/8/thumb/puppies-7164.jpg
[paperclip] saving /home/vchistyakov/rails_apps/neilist/current/public/system/photos/8/original/puppies-7164.jpg
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 2054ms (DB: 12) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:08:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (12.2ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 340ms (View: 207, DB: 8) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 15:15:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (197.2ms)
Rendered postings/_googlemaps (23.8ms)
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 436ms (View: 293, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (7.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 15:15:44) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"title"=>"dsakjfjasdf", "location_attributes"=>{"address_line"=>"Россия, 190000, город Санкт-Петербург, просп. Маршала Блюхера", "lng"=>"30.363059905371095", "lat"=>"59.98581694360641"}, "posting_type_id"=>"2", "category_id"=>"1", "description"=>"dkjhfaskldkfjaskdjflkasdjf"}, "action"=>"create", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Россия, 190000, город Санкт-Петербург, просп. Маршала Блюхера. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Россия, 190000, город Санкт-Петербург, просп. Маршала Блюхера</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 190000, St Petersburg, просп. Маршала Блюхера</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><Thoroughfare><ThoroughfareName>просп. Маршала Блюхера</ThoroughfareName></Thoroughfare></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9876067" south="59.9726476" east="30.4725700" west="30.3574775" />
    </ExtendedData>
    <Point><coordinates>30.4170768,59.9763599,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 11:15:45.500458', NULL, E'dsakjfjasdf', '2009-10-12 11:15:45.500458', NULL, NULL, 2, NULL, 1, NULL, E'dkjhfaskldkfjaskdjflkasdjf') RETURNING "id"[0m
  [4;35;1mSQL (1.1ms)[0m   [0mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 11:15:45.513281', E'Russian Federation', E'Россия, 190000, город Санкт-Петербург, просп. Маршала Блюхера', E'Posting', '2009-10-12 11:15:45.513281', 9, 30.4170768, 59.9763599, E'St Petersburg') RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 961ms (DB: 16) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:15:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (10.5ms)
Rendered postings/_posting (3.6ms)
  [4;36;1mUser Load (3.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 338ms (View: 80, DB: 9) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 15:15:50) [GET]
  Parameters: {"action"=>"edit", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.6ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (72.5ms)
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (26.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 488ms (View: 181, DB: 11) | 200 OK [http://localhost/postings/8/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#update (for 127.0.0.1 at 2009-10-12 15:16:05) [PUT]
  Parameters: {"commit"=>"Update", "posting"=>{"title"=>"test posting 1", "location_attributes"=>{"address_line"=>"Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.", "lng"=>"30.33868398984375", "lat"=>"59.98907974724395"}, "posting_type_id"=>"3", "category_id"=>"3", "description"=>"test posting"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
  [4;35;1mLocation Load (1.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mLocation Update (0.8ms)[0m   [0mUPDATE "locations" SET "updated_at" = '2009-10-12 11:16:05.495403', "locatable_id" = NULL WHERE "id" = 3[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 190000, St Petersburg, 1-й Муринский просп., 99</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Выборгский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Сампсониевское</DependentLocalityName><Thoroughfare><ThoroughfareName>1-й Муринский просп., 99</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>190000</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9917103" south="59.9854151" east="30.3470600" west="30.3295327" />
    </ExtendedData>
    <Point><coordinates>30.3378937,59.9888758,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 11:16:06.286589', E'Russian Federation', E'Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.', E'Posting', '2009-10-12 11:16:06.286589', 8, 30.3378937, 59.9888758, E'St Petersburg') RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (16.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 947ms (DB: 27) | 302 Found [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:16:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (11.8ms)
Rendered postings/_posting (3.5ms)
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 235ms (View: 86, DB: 8) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 15:16:13) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 386ms (View: 94, DB: 7) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 15:25:10) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 425ms (View: 233, DB: 8) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 15:25:30) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 389ms (View: 244, DB: 10) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 15:26:16) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 502ms (View: 358, DB: 8) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 15:28:45) [GET]
  Parameters: {"action"=>"edit", "id"=>"7", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.1ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 7)[0m
Rendering /home/vchistyakov/rails_apps/neilist/current/public/404.html (404)
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 15:28:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (2.6ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (62.3ms)
Rendered postings/_googlemaps (28491.3ms)
  [4;36;1mUser Load (4.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:29:25.014504', "perishable_token" = E'1vtDayohV1_q-noVHVwo', "last_request_at" = '2009-10-12 11:29:25.009636' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 30322ms (View: 28777, DB: 19) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 15:38:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (69.6ms)
Rendered postings/_googlemaps (33.1ms)
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:38:30.349603', "perishable_token" = E'vGR-SWZezhInZ_3fS8ve', "last_request_at" = '2009-10-12 11:38:30.347119' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 2861ms (View: 446, DB: 11) | 200 OK [http://localhost/postings/new]
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-10-12 15:39:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}

NameError (undefined local variable or method `index' for #<Resourceful::Builder:0xb6b77c88>):
  app/controllers/postings_controller.rb:7
  app/controllers/postings_controller.rb:4

Rendered rescues/_trace (283.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-12 15:39:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}

NameError (undefined local variable or method `index' for #<Resourceful::Builder:0xb6ce83c4>):
  app/controllers/postings_controller.rb:7
  app/controllers/postings_controller.rb:4

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:39:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_posting (12.8ms)
Rendered postings/_posting (2.6ms)
  [4;35;1mUser Load (13.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 11:42:24.192429', "perishable_token" = E'iQ6wWeGuOrHeV93tmrFv', "last_request_at" = '2009-10-12 11:42:24.189946' WHERE "id" = 2[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 182237ms (View: 182, DB: 22) | 200 OK [http://localhost/postings]
WARNING: geokit-rails requires the Geokit gem. You either don't have the gem installed,
or you haven't told Rails to require it. If you're using a recent version of Rails: 
  config.gem "geokit" # in config/environment.rb
and of course install the gem: sudo gem install geokit
WARNING: geokit-rails requires the Geokit gem. You either don't have the gem installed,
or you haven't told Rails to require it. If you're using a recent version of Rails: 
  config.gem "geokit" # in config/environment.rb
and of course install the gem: sudo gem install geokit
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:47:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (3.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:47:12.489730', "perishable_token" = E'irtTVdu_LcNTXfA0Wb2U', "last_request_at" = '2009-10-12 11:47:12.483391' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 2055ms (View: 489, DB: 8) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:48:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:48:38.228946', "perishable_token" = E'3tTBCVw9GJ3ilcqAz7q0', "last_request_at" = '2009-10-12 11:48:38.227076' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 2125ms (View: 104, DB: 36) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 15:48:44) [GET]
  Parameters: {"action"=>"show", "id"=>"9", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.4ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 9)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:48:46.561486', "perishable_token" = E'cfv1dRAUKdGO_jEvyV3y', "last_request_at" = '2009-10-12 11:48:46.559515' WHERE "id" = 2[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Completed in 1791ms (View: 102, DB: 14) | 200 OK [http://localhost/postings/9]
  [4;36;1mSQL (1.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:48:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:48:53.855889', "perishable_token" = E'TU9rg5EyZoeMks-_yhca', "last_request_at" = '2009-10-12 11:48:53.853777' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 1661ms (View: 70, DB: 11) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 15:49:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 11:49:28.678008', "perishable_token" = E'5FP4qJz8H_eQvdBBKC3E', "last_request_at" = '2009-10-12 11:49:28.676049' WHERE "id" = 2[0m
  [4;35;1mSQL (15.5ms)[0m   [0mCOMMIT[0m
Completed in 1634ms (View: 183, DB: 26) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:15:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'

TypeError (can't convert nil into Hash):
  app/controllers/postings_controller.rb:17:in `merge'
  app/controllers/postings_controller.rb:17:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (200.3ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:17:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.2ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 4174ms (View: 225, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:19:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (129.2ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 4082ms (View: 212, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:19:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.3ms)
Rendered postings/_posting (2.2ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 4232ms (View: 128, DB: 7) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:36:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.0ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 12:36:28.914038', "perishable_token" = E'QA8MoWywyBYOwM5ezVYJ', "last_request_at" = '2009-10-12 12:36:28.909753' WHERE "id" = 2[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCOMMIT[0m
Completed in 2114ms (View: 82, DB: 12) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:37:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (14.1ms)
Rendered postings/_posting (6.5ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 12:37:57.793937', "perishable_token" = E'JOkRAedZy6g05CuoyZXJ', "last_request_at" = '2009-10-12 12:37:57.789116' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1643ms (View: 85, DB: 9) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:38:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (17.9ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 12:38:15.017641', "perishable_token" = E'I28LZ3dmGuM686jIblid', "last_request_at" = '2009-10-12 12:38:15.011257' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1512ms (View: 87, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (1.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:39:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.4ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.4ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1923ms (View: 73, DB: 13) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:42:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (17.4ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (2.8ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 12:43:01.232003', "perishable_token" = E'LRhBI0CpkTiSpj5EslaC', "last_request_at" = '2009-10-12 12:43:01.227677' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1706ms (View: 117, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:44:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (14.6ms)
Rendered postings/_posting (2.8ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 12:44:45.691534', "perishable_token" = E'4UoK6_dXhK4yw76Rr6Aa', "last_request_at" = '2009-10-12 12:44:45.689230' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 1519ms (View: 196, DB: 26) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:45:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.0ms)
Rendered postings/_posting (2.2ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 12:45:41.273383', "perishable_token" = E'xXTzZvgwArNorLd_1vIG', "last_request_at" = '2009-10-12 12:45:41.271414' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1723ms (View: 293, DB: 17) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:46:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (130.0ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 12:46:20.406247', "perishable_token" = E'iJSNmhqaw2rGKnCQmzM0', "last_request_at" = '2009-10-12 12:46:20.404359' WHERE "id" = 2[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Completed in 1778ms (View: 204, DB: 15) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:47:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (18.9ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1820ms (View: 83, DB: 43) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (1.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-12 16:47:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;35;1mUser Load (10.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 473ms (View: 41, DB: 26) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:47:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (21.5ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1733ms (View: 244, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:50:30) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m

ActionView::TemplateError (undefined method `yeld' for #<ActionView::Base:0xb6bb1564>) on line #54 of app/views/layouts/application.html.haml:
51:         \&nbsp;
52:       #main_body.span-24.last
53:         /Left column here
54:         .span-4= yeld :left
55:         /Middle column here
56:         #content.span-16
57:           %hr.plain

    app/views/layouts/application.html.haml:54:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (98.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:51:26) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.9ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (4.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1698ms (View: 95, DB: 11) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:53:25) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.3ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (2.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (24.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1736ms (View: 132, DB: 35) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:55:24) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (8.8ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1849ms (View: 199, DB: 19) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:56:26) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1832ms (View: 94, DB: 9) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 16:57:18) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1897ms (View: 255, DB: 14) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 16:58:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.5ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 12:58:44.977196', "perishable_token" = E'd5JnXKkAOrkjmZGfePCb', "last_request_at" = '2009-10-12 12:58:44.971101' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 1719ms (View: 232, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (1.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:00:05) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1764ms (View: 89, DB: 9) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (11.7ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:04:48) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 13:04:50.413115', "perishable_token" = E'MQkLmMTLu3eNQuw5BiHd', "last_request_at" = '2009-10-12 13:04:50.411161' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 2083ms (View: 95, DB: 25) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:05:16) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-12 13:05:17.942345', "perishable_token" = E'7rJ54_Qml977LL--ySRK', "last_request_at" = '2009-10-12 13:05:17.938471' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1682ms (View: 91, DB: 15) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:08:19) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1587ms (View: 72, DB: 9) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:08:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.7ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1755ms (View: 87, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:09:53) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (7.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1763ms (View: 99, DB: 18) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:10:13) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1619ms (View: 84, DB: 9) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:11:06) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1674ms (View: 204, DB: 10) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:11:25) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (12.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (4.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (11.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:11:27.634923', "perishable_token" = E'mf3czJ3ThHIFdXxXqS3H', "last_request_at" = '2009-10-12 13:11:27.632994' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1988ms (View: 397, DB: 36) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:11:41) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:11:42.877525', "perishable_token" = E'poG0s96cGaC31e_Qe33T', "last_request_at" = '2009-10-12 13:11:42.872008' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1856ms (View: 96, DB: 10) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:11:52) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.5ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1643ms (View: 77, DB: 13) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:14:44) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1909ms (View: 119, DB: 8) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#edit (for 127.0.0.1 at 2009-10-12 17:14:59) [GET]
  Parameters: {"action"=>"edit", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/edit
  [4;36;1mPostingType Load (2.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
  [4;35;1mCategory Load (3.7ms)[0m   [0mSELECT * FROM "categories"[0m
Rendered postings/_form (55.9ms)
  [4;36;1mLocation Load (1.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Rendered postings/_googlemaps (30.6ms)
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 2069ms (View: 265, DB: 18) | 200 OK [http://localhost/postings/8/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#update (for 127.0.0.1 at 2009-10-12 17:15:31) [PUT]
  Parameters: {"commit"=>"Update", "posting"=>{"title"=>"test posting 1", "location_attributes"=>{"address_line"=>"Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.", "lng"=>"30.3378937", "lat"=>"59.9888758"}, "posting_type_id"=>"3", "category_id"=>"3", "description"=>"test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting "}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"rx1G45S7gu/bxQZXv/QRXUolhZMhMFPksXjKysuno5o=", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mLocation Update (3.8ms)[0m   [0mUPDATE "locations" SET "updated_at" = '2009-10-12 13:15:33.024810', "locatable_id" = NULL WHERE "id" = 5[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (3.6ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 190000, St Petersburg, 1-й Муринский просп., 99</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Выборгский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Сампсониевское</DependentLocalityName><Thoroughfare><ThoroughfareName>1-й Муринский просп., 99</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>190000</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9917103" south="59.9854151" east="30.3470600" west="30.3295327" />
    </ExtendedData>
    <Point><coordinates>30.3378937,59.9888758,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Update (0.8ms)[0m   [0;1mUPDATE "postings" SET "updated_at" = '2009-10-12 13:15:33.688264', "description" = E'test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting test posting ' WHERE "id" = 8[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'St Petersburg', '2009-10-12 13:15:33.692863', E'Russian Federation', E'Россия, 190000, город Санкт-Петербург, 1-й Муринский просп.', E'Posting', '2009-10-12 13:15:33.692863', 8, 30.3378937, 59.9888758, E'St Petersburg') RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 2261ms (DB: 21) | 302 Found [http://localhost/postings/8]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:15:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.8ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.3ms)
Rendered postings/_posting (5.4ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1626ms (View: 71, DB: 7) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:15:39) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.6ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1573ms (View: 75, DB: 8) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.6ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:16:54) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:16:56.310699', "perishable_token" = E'BlkPN4xZaYgRVrr7T2KL', "last_request_at" = '2009-10-12 13:16:56.304986' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 2088ms (View: 89, DB: 16) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:18:55) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.1ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:18:57.454252', "perishable_token" = E'O44CrfXeJm66pI6Uox5b', "last_request_at" = '2009-10-12 13:18:57.452260' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1845ms (View: 202, DB: 13) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:20:42) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.5ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1726ms (View: 248, DB: 14) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:21:18) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (4.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1734ms (View: 89, DB: 12) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (4.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:23:28) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:23:30.398553', "perishable_token" = E'6s3Qh9CRJdLxHOjtL9Qa', "last_request_at" = '2009-10-12 13:23:30.396669' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1542ms (View: 87, DB: 17) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:23:55) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1623ms (View: 87, DB: 13) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:24:31) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1586ms (View: 80, DB: 10) | 200 OK [http://localhost/postings/8]
  [4;35;1mSQL (0.7ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#show (for 127.0.0.1 at 2009-10-12 17:24:53) [GET]
  Parameters: {"action"=>"show", "id"=>"8", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."id" = 8)[0m
Rendering template within layouts/application
Rendering postings/show
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1749ms (View: 131, DB: 8) | 200 OK [http://localhost/postings/8]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:25:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (27.5ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 2113ms (View: 319, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:26:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.5ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:26:21.068684', "perishable_token" = E'8UUZNoG3rfDTsSDi_U8C', "last_request_at" = '2009-10-12 13:26:21.066324' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 1768ms (View: 229, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:27:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.9ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:27:18.077291', "perishable_token" = E'CvLy-xXPkOMWTAMmm-Im', "last_request_at" = '2009-10-12 13:27:18.075261' WHERE "id" = 2[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Completed in 1790ms (View: 204, DB: 12) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:28:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.2ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 2364ms (View: 349, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:35:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.3ms)
Rendered postings/_posting (4.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1904ms (View: 77, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:36:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index

ActionView::TemplateError (undefined method `t' for "Location:":String) on line #3 of app/views/postings/_search_form.html.haml:
1: = params[:location] ||= {}
2: - form_tag postings_path, :method=>:get do
3:   = "Location:".t
4:   = text_field :location, :origin, params[:location][:origin]
5:   = select :location, :within, [10, 20, 50 , 100, 200, 500, 1000, 1500, 2000], {:selected => (params[:within].to_i || 200)}
6:   = "kms"

    app/views/postings/_search_form.html.haml:3:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `call'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `form_tag'
    haml (2.0.6) lib/haml/helpers.rb:443:in `call'
    haml (2.0.6) lib/haml/helpers.rb:443:in `haml_bind_proc'
    haml (2.0.6) lib/haml/helpers.rb:261:in `call'
    haml (2.0.6) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.6) lib/haml/helpers.rb:426:in `with_haml_buffer'
    haml (2.0.6) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:146:in `form_tag'
    app/views/postings/_search_form.html.haml:2:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/index.html.haml:4:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (122.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:36:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.delete) on line #4 of app/views/postings/_search_form.html.haml:
1: = params[:location] ||= {}
2: - form_tag postings_path, :method=>:get do
3:   = "Location:"
4:   = text_field :location, :origin, params[:location][:origin]
5:   = select :location, :within, [10, 20, 50 , 100, 200, 500, 1000, 1500, 2000], {:selected => (params[:within].to_i || 200)}
6:   = "kms"
7:   

    app/views/postings/_search_form.html.haml:4:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `call'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `form_tag'
    haml (2.0.6) lib/haml/helpers.rb:443:in `call'
    haml (2.0.6) lib/haml/helpers.rb:443:in `haml_bind_proc'
    haml (2.0.6) lib/haml/helpers.rb:261:in `call'
    haml (2.0.6) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.6) lib/haml/helpers.rb:426:in `with_haml_buffer'
    haml (2.0.6) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:146:in `form_tag'
    app/views/postings/_search_form.html.haml:2:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/index.html.haml:4:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (245.9ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:36:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (4.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.3ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 2000ms (View: 195, DB: 9) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:38:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index

ActionView::TemplateError (undefined method `submit_button' for #<ActionView::Base:0xb6b7e100>) on line #7 of app/views/postings/_search_form.html.haml:
4:   .span-7= text_field :location, :origin, :value => params[:location][:origin]
5:   .span-2= select :location, :within, [10, 20, 50 , 100, 200, 500, 1000, 1500, 2000]
6:   .span-1= "kms"
7:   .span-2= submit_button("Search")
8:   

    app/views/postings/_search_form.html.haml:7:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `call'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `form_tag'
    haml (2.0.6) lib/haml/helpers.rb:443:in `call'
    haml (2.0.6) lib/haml/helpers.rb:443:in `haml_bind_proc'
    haml (2.0.6) lib/haml/helpers.rb:261:in `call'
    haml (2.0.6) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.6) lib/haml/helpers.rb:426:in `with_haml_buffer'
    haml (2.0.6) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:146:in `form_tag'
    app/views/postings/_search_form.html.haml:2:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/index.html.haml:4:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (176.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:38:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index

ActionView::TemplateError (undefined method `submit' for #<ActionView::Base:0xb6e21178>) on line #7 of app/views/postings/_search_form.html.haml:
4:   .span-7= text_field :location, :origin, :value => params[:location][:origin]
5:   .span-2= select :location, :within, [10, 20, 50 , 100, 200, 500, 1000, 1500, 2000]
6:   .span-1= "kms"
7:   .span-2= submit("Search")
8:   

    app/views/postings/_search_form.html.haml:7:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `call'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:142:in `form_tag'
    haml (2.0.6) lib/haml/helpers.rb:443:in `call'
    haml (2.0.6) lib/haml/helpers.rb:443:in `haml_bind_proc'
    haml (2.0.6) lib/haml/helpers.rb:261:in `call'
    haml (2.0.6) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.6) lib/haml/helpers.rb:426:in `with_haml_buffer'
    haml (2.0.6) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:146:in `form_tag'
    app/views/postings/_search_form.html.haml:2:in `_run_haml_app47views47postings47_search_form46html46haml_locals_object_search_form'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.6) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/postings/index.html.haml:4:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (278.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:38:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (4.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.6ms)
Rendered postings/_posting (92.9ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1733ms (View: 196, DB: 9) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:39:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (4.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.6ms)
Rendered postings/_posting (2.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1753ms (View: 86, DB: 7) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:39:26) [GET]
  Parameters: {"location"=>{"within"=>"10", "origin"=>"spb, russia,"}, "commit"=>"Search", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (9.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (50.5ms)
Rendered postings/_posting (2.2ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1887ms (View: 133, DB: 14) | 200 OK [http://localhost/postings?location%5Borigin%5D=spb%2C+russia%2C&location%5Bwithin%5D=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 17:40:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (78.3ms)
Rendered postings/_googlemaps (17.5ms)
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:40:33.290080', "perishable_token" = E'vCjFp_HO3wyy--F8KqOR', "last_request_at" = '2009-10-12 13:40:33.285635' WHERE "id" = 2[0m
  [4;36;1mSQL (27.6ms)[0m   [0;1mCOMMIT[0m
Completed in 1770ms (View: 167, DB: 38) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#create (for 127.0.0.1 at 2009-10-12 17:40:58) [POST]
  Parameters: {"commit"=>"Create", "posting"=>{"title"=>"test posting 2", "location_attributes"=>{"address_line"=>"Avon NSW, Australia", "lng"=>"150.644", "lat"=>"-34.397"}, "posting_type_id"=>"1", "category_id"=>"4", "description"=>"this is just a test"}, "action"=>"create", "authenticity_token"=>"1da0KZVGGZ6IkMj7++a8dJaPekZnLPX7rYARaWXFp44=", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:41:00.317717', "perishable_token" = E'pnz1K1Ff3gDCN0_jWJXe', "last_request_at" = '2009-10-12 13:41:00.315814' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
Google geocoding. Address: Avon NSW, Australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Avon NSW, Australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Avon NSW, Australia</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName><AdministrativeArea><AdministrativeAreaName>NSW</AdministrativeAreaName><Locality><LocalityName>Avon</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-34.2045515" south="-34.4993314" east="150.8908638" west="150.3786262" />
    </ExtendedData>
    <Point><coordinates>150.6347450,-34.3520710,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "postings" ("created_at", "photo_file_size", "title", "updated_at", "photo_file_name", "photo_content_type", "posting_type_id", "user_id", "category_id", "photo_updated_at", "description") VALUES('2009-10-12 13:41:00.813619', NULL, E'test posting 2', '2009-10-12 13:41:00.813619', NULL, NULL, 1, 2, 4, NULL, E'this is just a test') RETURNING "id"[0m
  [4;35;1mSQL (1.1ms)[0m   [0mINSERT INTO "locations" ("city", "created_at", "country", "address_line", "locatable_type", "updated_at", "locatable_id", "lng", "lat", "state") VALUES(E'Avon', '2009-10-12 13:41:00.824905', E'Australia', E'Avon NSW, Australia', E'Posting', '2009-10-12 13:41:00.824905', 10, 150.634745, -34.352071, E'NSW') RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/postings
Completed in 2226ms (DB: 12) | 302 Found [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:41:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (3.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.4ms)
Rendered postings/_posting (27.0ms)
Rendered postings/_posting (9.0ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:41:03.239218', "perishable_token" = E'C4ZLxfLqjLh1PEB4_SeE', "last_request_at" = '2009-10-12 13:41:03.237316' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 2173ms (View: 121, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:41:12) [GET]
  Parameters: {"location"=>{"within"=>"10", "origin"=>"spb, russia"}, "commit"=>"Search", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (3.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.5ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:41:13.954468', "perishable_token" = E'qlGVlzrMcWCI0Gbko5LQ', "last_request_at" = '2009-10-12 13:41:13.952587' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 1662ms (View: 87, DB: 13) | 200 OK [http://localhost/postings?location%5Borigin%5D=spb%2C+russia&location%5Bwithin%5D=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:44:29) [GET]
  Parameters: {"location"=>{"within"=>"10", "origin"=>"spb, russia,"}, "commit"=>"Search", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1945ms (View: 79, DB: 10) | 200 OK [http://localhost/postings?location%5Borigin%5D=spb%2C+russia%2C&location%5Bwithin%5D=10&commit=Search]
  [4;36;1mSQL (17.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:44:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (14.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1716ms (View: 75, DB: 24) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:44:57) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (1.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.9ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1753ms (View: 73, DB: 7) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:46:18) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'

TypeError (can't convert String into Hash):
  app/controllers/postings_controller.rb:19:in `merge'
  app/controllers/postings_controller.rb:19:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (77.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:46:45) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.7ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (1.7ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1751ms (View: 72, DB: 8) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:46:50) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (3.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.6ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.7ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 1657ms (View: 76, DB: 9) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:47:18) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.9ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (2.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (15.3ms)
Rendered postings/_posting (3.4ms)
Rendered postings/_posting (3.0ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
Completed in 26145ms (View: 1372, DB: 8) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:47:49) [GET]
  Parameters: {"location"=>{"within"=>"10", "origin"=>"spb, russia"}, "commit"=>"Search", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.6ms)
Rendered postings/_posting (5.6ms)
Rendered postings/_posting (2.6ms)
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:47:51.396059', "perishable_token" = E'Fnp-S9RcNH126o2K-O3o', "last_request_at" = '2009-10-12 13:47:51.393796' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 1761ms (View: 218, DB: 9) | 200 OK [http://localhost/postings?location%5Borigin%5D=spb%2C+russia&location%5Bwithin%5D=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:47:57) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.8ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (3.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (124.8ms)
Rendered postings/_posting (4.3ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:48:00.805442', "perishable_token" = E'caa20WHRDibttBrOU7mv', "last_request_at" = '2009-10-12 13:48:00.803113' WHERE "id" = 2[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Completed in 3060ms (View: 800, DB: 14) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:48:12) [GET]
  Parameters: {"commit"=>"Search", "within"=>"1000", "action"=>"index", "origin"=>"australia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Australia</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-3.2829969" south="-43.9215535" east="166.5583399" west="100.9919321" />
    </ExtendedData>
    <Point><coordinates>133.7751360,-25.2743980,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.5ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>-39.7313832853591 AND locations.lat<-10.8174127146409 AND locations.lng>117.861791249402 AND locations.lng<149.688480750598)) AND (
 (ACOS(least(1,COS(-0.44112146155947)*COS(2.3348165805032)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(-0.44112146155947)*SIN(2.3348165805032)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(-0.44112146155947)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 1000))[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (6.5ms)
Google geocoding. Address: australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Australia</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-3.2829969" south="-43.9215535" east="166.5583399" west="100.9919321" />
    </ExtendedData>
    <Point><coordinates>133.7751360,-25.2743980,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>-39.7313832853591 AND locations.lat<-10.8174127146409 AND locations.lng>117.861791249402 AND locations.lng<149.688480750598)) AND (
 (ACOS(least(1,COS(-0.44112146155947)*COS(2.3348165805032)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(-0.44112146155947)*SIN(2.3348165805032)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(-0.44112146155947)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 1000))[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:48:15.485392', "perishable_token" = E'p6xPI8LJZSiHT27Hx-j6', "last_request_at" = '2009-10-12 13:48:15.483088' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 3065ms (View: 629, DB: 13) | 200 OK [http://localhost/postings?origin=australia&within=1000&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#new (for 127.0.0.1 at 2009-10-12 17:48:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"postings"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering postings/new
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
Rendered postings/_form (64.6ms)
Rendered postings/_googlemaps (21.6ms)
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:48:23.409176', "perishable_token" = E't9Pr1-hzsSprYyX4uAlm', "last_request_at" = '2009-10-12 13:48:23.406850' WHERE "id" = 2[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Completed in 2162ms (View: 167, DB: 14) | 200 OK [http://localhost/postings/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-12 17:48:32) [GET]
  Parameters: {"commit"=>"Search", "within"=>"1000", "action"=>"index", "origin"=>"Avon NSW, Australia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: Avon NSW, Australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Avon NSW, Australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Avon NSW, Australia</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName><AdministrativeArea><AdministrativeAreaName>NSW</AdministrativeAreaName><Locality><LocalityName>Avon</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-34.2045515" south="-34.4993314" east="150.8908638" west="150.3786262" />
    </ExtendedData>
    <Point><coordinates>150.6347450,-34.3520710,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.8ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>-48.8090562853591 AND locations.lat<-19.8950857146409 AND locations.lng>133.29202508473 AND locations.lng<167.97746491527)) AND (
 (ACOS(least(1,COS(-0.599556743828861)*COS(2.62907226815207)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(-0.599556743828861)*SIN(2.62907226815207)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(-0.599556743828861)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 1000))[0m
Rendering template within layouts/application
Rendering postings/index
Rendered postings/_search_form (2.3ms)
Google geocoding. Address: Avon NSW, Australia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Avon NSW, Australia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Avon NSW, Australia</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>AU</CountryNameCode><CountryName>Australia</CountryName><AdministrativeArea><AdministrativeAreaName>NSW</AdministrativeAreaName><Locality><LocalityName>Avon</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="-34.2045515" south="-34.4993314" east="150.8908638" west="150.3786262" />
    </ExtendedData>
    <Point><coordinates>150.6347450,-34.3520710,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>-48.8090562853591 AND locations.lat<-19.8950857146409 AND locations.lng>133.29202508473 AND locations.lng<167.97746491527)) AND (
 (ACOS(least(1,COS(-0.599556743828861)*COS(2.62907226815207)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(-0.599556743828861)*SIN(2.62907226815207)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(-0.599556743828861)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 1000))[0m
Rendered postings/_posting (7.1ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-12 13:48:35.678603', "perishable_token" = E'M8mvq3GPh2Z4QmJUN0rQ', "last_request_at" = '2009-10-12 13:48:35.675876' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3128ms (View: 803, DB: 13) | 200 OK [http://localhost/postings?origin=Avon+NSW%2C+Australia&within=1000&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-13 15:55:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 674ms (View: 167, DB: 31) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-13 16:01:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 168ms (View: 60, DB: 4) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-13 16:01:25) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"wMb9AncqtQsfyGOU0JdR3JYSVRxIDAWn+6VntZdQlQY=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (40.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (20.9ms)[0m   [0;1mUPDATE "users" SET "login_count" = 3, "updated_at" = '2009-10-13 12:01:26.111418', "perishable_token" = E'Oa9E9uePStkcBlp7baqz', "last_request_at" = '2009-10-13 12:01:26.105288', "last_login_at" = '2009-10-12 08:16:36.898231', "current_login_at" = '2009-10-13 12:01:25.975200' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 706ms (DB: 68) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-13 16:01:26) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:01:26.446596', "perishable_token" = E'h0P1ElYzgJjfhJGWeAb6', "last_request_at" = '2009-10-13 12:01:26.443961' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (54.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (16.6ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 416ms (View: 218, DB: 81) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:01:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (37.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (11.7ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (17.6ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (25.7ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:01:33.338703', "perishable_token" = E'JAJm9Zyla0Yo44TUq1G6', "last_request_at" = '2009-10-13 12:01:33.336879' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 4449ms (View: 318, DB: 75) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (2.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:01:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.8ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:01:57.534077', "perishable_token" = E'b7r3IGkqzu0ErS5GMJui', "last_request_at" = '2009-10-13 12:01:57.529893' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1764ms (View: 135, DB: 13) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:02:16) [GET]
  Parameters: {"category"=>"3", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'3')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'3')[0m
Rendered postings/_posting (6.5ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:02:18.193455', "perishable_token" = E'hkISNQxXZ2NLMfLFFCbi', "last_request_at" = '2009-10-13 12:02:18.191647' WHERE "id" = 2[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Completed in 1711ms (View: 107, DB: 13) | 200 OK [http://localhost/postings?category=3]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:02:21) [GET]
  Parameters: {"category"=>"2", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.1ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'2')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'2')[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:02:23.057424', "perishable_token" = E'8vFK85vskGpcYN9YBISc', "last_request_at" = '2009-10-13 12:02:23.055537' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1802ms (View: 319, DB: 11) | 200 OK [http://localhost/postings?category=2]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:02:25) [GET]
  Parameters: {"category"=>"1", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'1')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'1')[0m
Rendered postings/_posting (9.4ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:02:27.051739', "perishable_token" = E'0d82q8YMEggn7T3ScDPp', "last_request_at" = '2009-10-13 12:02:27.049772' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1904ms (View: 270, DB: 12) | 200 OK [http://localhost/postings?category=1]
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:02:29) [GET]
  Parameters: {"category"=>"4", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'4')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'4')[0m
Rendered postings/_posting (10.3ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:02:30.700979', "perishable_token" = E'M1yzgp0R_NP3adJTaE0r', "last_request_at" = '2009-10-13 12:02:30.699101' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1689ms (View: 230, DB: 12) | 200 OK [http://localhost/postings?category=4]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:02:42) [GET]
  Parameters: {"commit"=>"Search", "within"=>"20", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (139.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.7ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendered postings/_posting (6.2ms)
Rendered postings/_posting (2.4ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:02:45.424887', "perishable_token" = E'Un4AXIgltnOLnnu2c_c6', "last_request_at" = '2009-10-13 12:02:45.423028' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3429ms (View: 593, DB: 153) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=20&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:03:01) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"20", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (3.6ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendered postings/_posting (4.9ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:03:04.123525', "perishable_token" = E'8RFefCMuF7nsJt55OkFz', "last_request_at" = '2009-10-13 12:03:04.121713' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 2748ms (View: 692, DB: 20) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=20]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Tue Oct 13 16:12:07 +0400 2009
  Status: 500 Internal Server Error
  /home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:175: dynamic constant assignment
    var Demo = {
              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:176: odd number list for Hash
  map: null,
      ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:176: syntax error, unexpected ':', expecting '}'
  map: null,
      ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:177: syntax error, unexpected ':', expecting '='
  mapContainer: document.getElementById('mapContainer'),
               ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:177: syntax error, unexpected ',', expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:178: syntax error, unexpected ',', expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:179: syntax error, unexpected ',', expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:184: syntax error, unexpected ':', expecting '='
  generateTriggerCallback: function(object, eventType) {
                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:188: syntax error, unexpected ',', expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:192: syntax error, unexpected tCONSTANT, expecting '}'
      // Close the last selected marker before opening this one.
              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:200: syntax error, unexpected ',', expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:203: syntax error, unexpected ')'
    for (var n = 0, marker; marker = Demo.markers[n]; n++) {
                                                          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:205: syntax error, unexpected '}', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:209: syntax error, unexpected tCONSTANT, expecting '}'
    // Populate side bar.
               ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:211: odd number list for Hash
      lat: 0,
          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:211: syntax error, unexpected ':', expecting '}'
      lat: 0,
          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:219: syntax error, unexpected tCONSTANT, expecting ')'
    // Clear list and map markers.
            ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:223: syntax error, unexpected ')'
    for (var n = 1; n <= Demo.numMarkers; n++) {
                                              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:226: syntax error, unexpected tCONSTANT, expecting ')'
      // Place markers on map randomly.
              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:231: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var randLatLng = new google.maps.LatLng(
                                 ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:234: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var marker = new google.maps.Marker({
                             ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:235: odd number list for Hash
        map: Demo.map,
            ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:235: syntax error, unexpected ':', expecting '}'
        map: Demo.map,
            ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:236: syntax error, unexpected ':', expecting '='
        title: 'Marker #' + n,
              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:236: syntax error, unexpected ',', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:238: syntax error, unexpected ':', expecting '='
        draggable: true
                  ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:242: syntax error, unexpected tCONSTANT, expecting ')'
      // Create marker info window.
               ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:243: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      var infoWindow = new google.maps.InfoWindow({
                                 ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:244: odd number list for Hash
        content: [
                ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:244: syntax error, unexpected ':', expecting '}'
        content: [
                ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:252: syntax error, unexpected ',', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:254: syntax error, unexpected '}', expecting ')'
      });
       ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:260: syntax error, unexpected tCONSTANT, expecting ')'
      // Generate list elements for each marker.
                 ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:260: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      // Generate list elements for each marker.
                                               ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:269: syntax error, unexpected tCONSTANT, expecting ')'
      // Sum up all lat/lng to calculate center all points.
            ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:269: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
      // Sum up all lat/lng to calculate center all points.
                              ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:272: syntax error, unexpected '}', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:277: syntax error, unexpected '}', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:280: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
    var firstLatLng = new google.maps.LatLng(37.4419, -122.1419);
                                ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:282: odd number list for Hash
      zoom: 12,
           ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:282: syntax error, unexpected ':', expecting '}'
      zoom: 12,
           ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:284: syntax error, unexpected ':', expecting '='
      mapTypeId: google.maps.MapTypeId.ROADMAP,
                ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:285: syntax error, unexpected '}', expecting '='
    });
     ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:292: syntax error, unexpected tCONSTANT, expecting '}'
    // Add onclick handler to generate link.
          ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:297: syntax error, unexpected tCONSTANT, expecting '}'
    // Generate markers against map center.
               ^
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:300: syntax error, unexpected '}', expecting ')'
/home/vchistyakov/rails_apps/neilist/current/app/helpers/application_helper.rb:303: syntax error, unexpected kEND, expecting ')'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:224:in `depend_on'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:136:in `require_dependency'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `__send__'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:212:in `inherited'
    /home/vchistyakov/rails_apps/neilist/current/app/controllers/application_controller.rb:4
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (6.8ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:18:21) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"20", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.6ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.6498992942928 AND locations.lat<60.2281787057072 AND locations.lng>29.7385836113722 AND locations.lng<30.8929863886278)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 20))[0m
Rendered postings/_posting (10.2ms)
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:18:25.410505', "perishable_token" = E'98z6lDBSfpo4uOVLqfEQ', "last_request_at" = '2009-10-13 12:18:25.408474' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 3628ms (View: 768, DB: 22) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=20]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:18:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.5ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.5ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (3.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:18:35.927045', "perishable_token" = E'kcORVqOOpjI7vYjIDYxa', "last_request_at" = '2009-10-13 12:18:35.925260' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1914ms (View: 112, DB: 18) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (3.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-13 16:18:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 93ms (View: 35, DB: 11) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:18:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (3.3ms)
Completed in 1602ms (View: 105, DB: 9) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:21:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.1ms)
Rendered postings/_posting (1.7ms)
Rendered postings/_posting (3.5ms)
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:21:02.104041', "perishable_token" = E'MVTZmudWzPPeOF2EX7dX', "last_request_at" = '2009-10-13 12:21:02.102261' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 1696ms (View: 235, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:27:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (110.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.7ms)
Rendered postings/_posting (3.8ms)
Rendered postings/_posting (2.0ms)
Completed in 1513ms (View: 212, DB: 8) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (10.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:28:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (4.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (3.4ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:28:13.379652', "perishable_token" = E'QBR-o6TakmlscSuZ--0q', "last_request_at" = '2009-10-13 12:28:13.377788' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1755ms (View: 122, DB: 25) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:28:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.8ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (4.1ms)
Completed in 1749ms (View: 101, DB: 7) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:31:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.9ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.6ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.7ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:31:53.378098', "perishable_token" = E'yUdVXSdeHYZw5vNNrEKb', "last_request_at" = '2009-10-13 12:31:53.375975' WHERE "id" = 2[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Completed in 1798ms (View: 269, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (2.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:32:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.3ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.6ms)
Rendered postings/_posting (5.3ms)
Rendered postings/_posting (2.1ms)
Completed in 1714ms (View: 215, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:35:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
ERROR: compiling _run_haml_app47views47postings47index46html46haml RAISED compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:30: syntax error, unexpected kENSURE, expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:32: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47postings47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :ugly=>false, :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; content_for :head do;

 content_for :left do;

_hamlout.push_text("<div class='prepend-1'>\n  <h3>", false, 2);haml_temp = "Category";
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</h3>\n  <ul class='large' style='list-style-type:none;'>\n", true, 1); Category.all.each do |c|;
_hamlout.push_text("    <li>", false, 1);haml_temp = link_to(c.name, params.merge(:category => c.id));
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</li>\n", true);end;

_hamlout.push_text("  </ul>\n</div>\n<ht class='plain'></ht>\n<div class='prepend-1'>\n  <h3>");haml_temp = "Posting type";
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</h3>\n  <ul class='large' style='list-style-type:none;'>\n", true, 1); PostingType.all.each do |pt|;
_hamlout.push_text("    <li>", false, 1);haml_temp = link_to(pt.name, params.merge(:posting_type => pt.id));
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</li>\n", true);end;_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
_hamlout.push_text("<div class='prepend-1'>\n  <div class='prepend-12 span-4 last'>", false, 2);haml_temp = link_to 'Add Posting', new_object_path;
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</div>\n  <hr class='plain' />\n  ", true);haml_temp =  render :partial => "/postings/search_form";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);





_hamlout.push_text("  <div id='generateLink'>\n    Generate markers\n  </div>\n  <ul id='sideContainer'></ul>\n  <div id='mapContainer'></div>\n  ");haml_temp =  multimarker_map;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("  ");haml_temp =  render :partial => '/postings/posting', :collection => current_objects;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</div>\n", false, -1);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:32:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:30: syntax error, unexpected kENSURE, expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:32: syntax error, unexpected $end, expecting kEND) on line #30 of app/views/postings/index.html.haml:
27:   = render :partial => '/postings/posting', :collection => current_objects
28: 
29:   

    app/views/postings/index.html.haml:32:in `compile!'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (2.7ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:35:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
ERROR: compiling _run_haml_app47views47postings47index46html46haml RAISED compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:33: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47postings47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :format=>:xhtml, :ugly=>false, :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; content_for :head do;

 content_for :left do;

_hamlout.push_text("<div class='prepend-1'>\n  <h3>", false, 2);haml_temp = "Category";
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</h3>\n  <ul class='large' style='list-style-type:none;'>\n", true, 1); Category.all.each do |c|;
_hamlout.push_text("    <li>", false, 1);haml_temp = link_to(c.name, params.merge(:category => c.id));
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</li>\n", true);end;

_hamlout.push_text("  </ul>\n</div>\n<ht class='plain'></ht>\n<div class='prepend-1'>\n  <h3>");haml_temp = "Posting type";
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</h3>\n  <ul class='large' style='list-style-type:none;'>\n", true, 1); PostingType.all.each do |pt|;
_hamlout.push_text("    <li>", false, 1);haml_temp = link_to(pt.name, params.merge(:posting_type => pt.id));
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</li>\n", true);end;_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
_hamlout.push_text("<div class='prepend-1'>\n  <div class='prepend-12 span-4 last'>", false, 2);haml_temp = link_to 'Add Posting', new_object_path;
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</div>\n  <hr class='plain' />\n  ", true);haml_temp =  render :partial => "/postings/search_form";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);





_hamlout.push_text("  <div id='generateLink'>\n    Generate markers\n  </div>\n  <ul id='sideContainer'></ul>\n  <div id='mapContainer'></div>\n  ");haml_temp =  multimarker_map;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  ");haml_temp =  render :partial => '/postings/posting', :collection => current_objects;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</div>\n", false, -1);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:33:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/lib/ruby/gems/1.8/gems/haml-2.0.6/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:31: syntax error, unexpected kENSURE, expecting kEND
/home/vchistyakov/rails_apps/neilist/current/app/views/postings/index.html.haml:33: syntax error, unexpected $end, expecting kEND) on line #31 of app/views/postings/index.html.haml:
28:   = render :partial => '/postings/posting', :collection => current_objects
29: 
30:   

    app/views/postings/index.html.haml:33:in `compile!'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (79.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:35:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.1ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (1.7ms)
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:35:46.903472', "perishable_token" = E'Qqlx-INdsPEHb_3FojuG', "last_request_at" = '2009-10-13 12:35:46.901329' WHERE "id" = 2[0m
  [4;35;1mSQL (17.8ms)[0m   [0mCOMMIT[0m
Completed in 1773ms (View: 229, DB: 33) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (19.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.4ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (9.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.1ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (2.2ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:08.069935', "perishable_token" = E'cELKRKuEUGmv_KrJKUfX', "last_request_at" = '2009-10-13 12:38:08.065878' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1738ms (View: 282, DB: 34) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (2.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:10) [GET]
  Parameters: {"category"=>"1", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'1')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'1')[0m
Rendered postings/_posting (6.4ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:12.127919', "perishable_token" = E'h4rIGO6PMldDSCDNsggW', "last_request_at" = '2009-10-13 12:38:12.126131' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1616ms (View: 105, DB: 15) | 200 OK [http://localhost/postings?category=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:13) [GET]
  Parameters: {"category"=>"3", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'3')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'3')[0m
Rendered postings/_posting (8.1ms)
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:15.381920', "perishable_token" = E'l2ZZtDjkksy2jyVi6eK7', "last_request_at" = '2009-10-13 12:38:15.380127' WHERE "id" = 2[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Completed in 1614ms (View: 118, DB: 14) | 200 OK [http://localhost/postings?category=3]
  [4;36;1mSQL (16.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:17) [GET]
  Parameters: {"category"=>"4", "action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.2ms)[0m   [0;1mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'4')[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (3.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings" WHERE ("postings"."category_id" = E'4')[0m
Rendered postings/_posting (5.4ms)
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:19.395756', "perishable_token" = E'mpUyZikcX0w38MQG28wU', "last_request_at" = '2009-10-13 12:38:19.383583' WHERE "id" = 2[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 1808ms (View: 273, DB: 31) | 200 OK [http://localhost/postings?category=4]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.6ms)
Rendered postings/_posting (4.3ms)
Rendered postings/_posting (1.7ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:25.335161', "perishable_token" = E'g5yk-kxHxGWeUIKh6szs', "last_request_at" = '2009-10-13 12:38:25.333251' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1959ms (View: 234, DB: 18) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:30) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (7.1ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (7.6ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:36.126043', "perishable_token" = E'ldUlsVLBkFq5-h0w5hcb', "last_request_at" = '2009-10-13 12:38:36.124233' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 5529ms (View: 639, DB: 17) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:38:39) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.8ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.7ms)
  [4;36;1mUser Load (5.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:38:41.692095', "perishable_token" = E'PzKY_M_CUgVT-RLdOyZA', "last_request_at" = '2009-10-13 12:38:41.690265' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 2747ms (View: 623, DB: 18) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:40:07) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.9ms)
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:40:10.218221', "perishable_token" = E'omZ-G4j-x675Jb6qKhYK', "last_request_at" = '2009-10-13 12:40:10.216266' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 2906ms (View: 831, DB: 18) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:40:10) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (6.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (7.5ms)
  [4;36;1mUser Load (5.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 12:40:13.170710', "perishable_token" = E'JF5_bwHKEcxgKz10nDxx', "last_request_at" = '2009-10-13 12:40:13.168884' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 2797ms (View: 602, DB: 23) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:40:13) [GET]
  Parameters: {"category"=>"2", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.6ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'2') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.8ms)
Geocoder.us geocoding. Address: spb, russia. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: spb, russia

ActionView::TemplateError (Geokit::Geocoders::GeocodeError) on line #21 of app/views/postings/index.html.haml:
18:   = render :partial => "/postings/search_form"
19: 
20: 
21:   = render :partial => '/postings/posting', :collection => current_objects
22: 
23:   

    geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
    app/controllers/postings_controller.rb:28:in `current_objects'
    (eval):2:in `send'
    (eval):2:in `current_objects'
    app/views/postings/index.html.haml:21:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (214.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:40:24) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.4ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.3ms)
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 12:40:27.408196', "perishable_token" = E'Ak6FNhcdrg_qCXIqw3WQ', "last_request_at" = '2009-10-13 12:40:27.402397' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 2531ms (View: 679, DB: 22) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:40:31) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (7.4ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 12:40:33.838093', "perishable_token" = E'nfBUbvEp1wnZcgHGAN-A', "last_request_at" = '2009-10-13 12:40:33.835327' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 2536ms (View: 561, DB: 16) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 16:50:08) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (5.3ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (18.2ms)
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 12:50:10.911284', "perishable_token" = E'yqBOj0eq5klo2qJk_OhI', "last_request_at" = '2009-10-13 12:50:10.909173' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 2767ms (View: 742, DB: 15) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:05:20) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (7.8ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (8.0ms)

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #23 of app/views/postings/index.html.haml:
20:   = render :partial => "/postings/search_form"
21:   #mapContainer
22:   #postings= render :partial => '/postings/posting', :collection => current_objects
23:   = multimarker_map
24: 
25:   

    app/views/postings/index.html.haml:23:in `multimarker_map'
    app/views/postings/index.html.haml:23:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (85.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:43:53) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.9ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.5ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m

ActionView::TemplateError (undefined method `tittle' for #<Posting:0xb6884fbc>) on line #23 of app/views/postings/index.html.haml:
20:   = render :partial => "/postings/search_form"
21:   #mapContainer
22:   #postings= render :partial => '/postings/posting', :collection => current_objects
23:   = multimarker_map(current_objects)
24: 
25:   

    app/helpers/gmaps_helper.rb:152:in `multimarker_map'
    app/helpers/gmaps_helper.rb:145:in `each'
    app/helpers/gmaps_helper.rb:145:in `multimarker_map'
    app/views/postings/index.html.haml:23:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (95.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:44:30) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (7.4ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.4ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m

ActionView::TemplateError (undefined method `lat' for #<Posting:0xb697f494>) on line #23 of app/views/postings/index.html.haml:
20:   = render :partial => "/postings/search_form"
21:   #mapContainer
22:   #postings= render :partial => '/postings/posting', :collection => current_objects
23:   = multimarker_map(current_objects)
24: 
25:   

    app/helpers/gmaps_helper.rb:211:in `multimarker_map'
    app/views/postings/index.html.haml:23:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (86.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:44:50) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.6ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.3ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (8.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 13:44:53.890813', "perishable_token" = E'omN_gAAmgknA6SO0bIoI', "last_request_at" = '2009-10-13 13:44:53.888915' WHERE "id" = 2[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCOMMIT[0m
Completed in 3192ms (View: 1177, DB: 19) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:45:02) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.5ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.3ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3115ms (View: 1081, DB: 13) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:45:51) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.6ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.4ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3687ms (View: 1025, DB: 12) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:46:55) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.6ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.8ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3079ms (View: 1104, DB: 16) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:48:15) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (2.5ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (7.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 13:48:19.648975', "perishable_token" = E'ZO84afb0PfBRYzb2gXOo', "last_request_at" = '2009-10-13 13:48:19.647151' WHERE "id" = 2[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Completed in 3880ms (View: 1174, DB: 20) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:49:19) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (4.6ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 13:49:23.874777', "perishable_token" = E'62kXEv4qhu1PlEXQ6hwz', "last_request_at" = '2009-10-13 13:49:23.872945' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3996ms (View: 1507, DB: 18) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:50:21) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.3ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.5ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3325ms (View: 1196, DB: 12) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:50:57) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.6ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.5ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 13:51:00.626918', "perishable_token" = E'StEoYYNOAeV-psqy4PTf', "last_request_at" = '2009-10-13 13:51:00.624999' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3235ms (View: 1154, DB: 14) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:51:07) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.8ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (4.3ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3090ms (View: 1082, DB: 14) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;36;1mSQL (10.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:51:17) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (8.2ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3188ms (View: 1284, DB: 24) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:51:56) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.7ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (5.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3415ms (View: 1219, DB: 13) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb,+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:52:11) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (6.5ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.8ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3137ms (View: 1056, DB: 12) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (7.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:55:01) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (7.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (119.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m

ActionView::TemplateError (undefined method `index_of' for #<WillPaginate::Collection:0xb6c4f46c>) on line #25 of app/views/postings/index.html.haml:
22:   #mapContainer
23:   %hr.plain
24:   #postings= render :partial => '/postings/posting', :collection => current_objects
25:   = multimarker_map(current_objects)
26: 
27:   

    app/helpers/gmaps_helper.rb:147:in `multimarker_map'
    app/helpers/gmaps_helper.rb:145:in `map'
    app/helpers/gmaps_helper.rb:145:in `multimarker_map'
    app/views/postings/index.html.haml:25:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (89.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 17:58:09) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m

ActionView::TemplateError (undefined method `index_of' for #<WillPaginate::Collection:0xb6933684>) on line #25 of app/views/postings/index.html.haml:
22:   #mapContainer
23:   %hr.plain
24:   #postings= render :partial => '/postings/posting', :collection => current_objects
25:   = multimarker_map(current_objects)
26: 
27:   

    app/helpers/gmaps_helper.rb:148:in `multimarker_map'
    app/helpers/gmaps_helper.rb:146:in `map'
    app/helpers/gmaps_helper.rb:146:in `multimarker_map'
    app/views/postings/index.html.haml:25:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (255.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:00:16) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (9.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 14:00:23.477563', "perishable_token" = E'TQtpwCgwobt6CXtSanxl', "last_request_at" = '2009-10-13 14:00:23.472586' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 7071ms (View: 1422, DB: 14) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:00:31) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.9ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (10.1ms)
Rendered postings/_posting (2.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3686ms (View: 1155, DB: 13) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (4.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:03:06) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (2.4ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (8.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 14:03:09.993724', "perishable_token" = E'APIutgDISsxzOtCcOEWP', "last_request_at" = '2009-10-13 14:03:09.991349' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3391ms (View: 1292, DB: 21) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:03:13) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (17.4ms)
Rendered postings/_posting (2.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 14:03:16.590014', "perishable_token" = E'LCdT9r3WgUQTsTyopO31', "last_request_at" = '2009-10-13 14:03:16.586472' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 3314ms (View: 1215, DB: 17) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:03:38) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (10.1ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (3.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (9.7ms)
Rendered postings/_posting (4.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 14:03:41.912510', "perishable_token" = E'nVNUH_VruELLGANus6Nt', "last_request_at" = '2009-10-13 14:03:41.910047' WHERE "id" = 2[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Completed in 3948ms (View: 1874, DB: 27) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:03:42) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (9.9ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (11.2ms)
Rendered postings/_posting (2.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3339ms (View: 1166, DB: 21) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:04:47) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (6.7ms)
Rendered postings/_posting (7.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 14:04:51.512335', "perishable_token" = E'ujJwUDyb2HFTxIhmmlOj', "last_request_at" = '2009-10-13 14:04:51.509843' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3639ms (View: 1473, DB: 16) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:05:03) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.2ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (9.6ms)
Rendered postings/_posting (2.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Completed in 3793ms (View: 1270, DB: 13) | 200 OK [http://localhost/postings?commit=Search&origin=spb%2C+russia&within=10]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:37:49) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.5ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (2.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-13 14:37:54.054406', "perishable_token" = E'WS2bnEI_2UnhOzA5tUnN', "last_request_at" = '2009-10-13 14:37:54.051915' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 4584ms (View: 1496, DB: 16) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-13 18:38:04) [GET]
  Parameters: {"category"=>"1", "commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.9ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.6ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
Rendered postings/_posting (10.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE ((("postings"."category_id" = E'1') AND (locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-13 14:38:07.788937', "perishable_token" = E'onmZLKVkFYcs9sdcb3_f', "last_request_at" = '2009-10-13 14:38:07.785707' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3519ms (View: 1319, DB: 15) | 200 OK [http://localhost/postings?category=1&commit=Search&origin=spb%2C+russia&within=10]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-14 11:12:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 1929ms (View: 645, DB: 33) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-10-14 11:12:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 299ms (View: 50, DB: 15) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-10-14 11:15:05) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"password"=>"[FILTERED]", "login"=>"vladchi"}, "action"=>"create", "authenticity_token"=>"WEYQo9wPUzLZa/G79U+LrRprC9hMJndL//bzP3GTBcs=", "controller"=>"user_sessions"}
Locale set to 'en-US'
  [4;36;1mUser Load (53.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = E'vladchi') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (25.6ms)[0m   [0;1mUPDATE "users" SET "login_count" = 4, "updated_at" = '2009-10-14 07:15:06.011873', "perishable_token" = E'cW_PYBNHYx6cSFs4dyv0', "last_request_at" = '2009-10-14 07:15:06.008452', "last_login_at" = '2009-10-13 12:01:25.975200', "current_login_at" = '2009-10-14 07:15:05.778791' WHERE "id" = 2[0m
  [4;35;1mSQL (14.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/account/edit
Completed in 926ms (DB: 99) | 302 Found [http://localhost/user_session]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-14 11:15:06) [GET]
  Parameters: {"action"=>"edit", "controller"=>"users"}
Locale set to 'en-US'
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:15:06.500486', "perishable_token" = E'3CxImOrMJG0px6tunl9W', "last_request_at" = '2009-10-14 07:15:06.496927' WHERE "id" = 2[0m
  [4;35;1mSQL (32.3ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (134.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE (("roles_users".user_id = 2))[0m
  [4;35;1mRole Load (36.6ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles".authorizable_id = 2 AND "roles".authorizable_type = E'User')[0m
Completed in 603ms (View: 157, DB: 214) | 200 OK [http://localhost/account/edit]
  [4;36;1mSQL (2.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:15:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (34.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (35.3ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (23.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (22.2ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (2.4ms)
  [4;36;1mUser Load (2.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:15:11.414012', "perishable_token" = E'vjqK60vniesMcPWa9nQe', "last_request_at" = '2009-10-14 07:15:11.412005' WHERE "id" = 2[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCOMMIT[0m
Completed in 2803ms (View: 195, DB: 109) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (6.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.9ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:15:34) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (223.5ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.location) on line #26 of app/views/postings/index.html.haml:
23:     #mapContainer
24:     %hr.plain
25:   #postings= render :partial => '/postings/posting', :collection => current_objects
26:   = multimarker_map(current_objects) if !params[:origin].blank?
27: 
28:   

    app/helpers/gmaps_helper.rb:218:in `multimarker_map'
    app/views/postings/index.html.haml:26:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (217.1ms)
Rendered rescues/_request_and_response (4.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:17:26) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.1ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (5.8ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.5ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m

ActionView::TemplateError (undefined method `reutrn' for #<ActionView::Base:0xb6bfdcac>) on line #26 of app/views/postings/index.html.haml:
23:     #mapContainer
24:     %hr.plain
25:   #postings= render :partial => '/postings/posting', :collection => current_objects
26:   = multimarker_map(current_objects) if !params[:origin].blank?
27: 
28:   

    app/helpers/gmaps_helper.rb:141:in `multimarker_map'
    app/views/postings/index.html.haml:26:in `_run_haml_app47views47postings47index46html46haml'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (132.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:17:40) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (4.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 07:17:43.770655', "perishable_token" = E'JwXJMQ6PmoBpubjbnYRU', "last_request_at" = '2009-10-14 07:17:43.768495' WHERE "id" = 2[0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mCOMMIT[0m
Completed in 3074ms (View: 1154, DB: 23) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=3&commit=Search]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:20:16) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (24.9ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
Rendered postings/_posting (5.2ms)
Rendered postings/_posting (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
  [4;36;1mUser Load (3.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:20:19.425048', "perishable_token" = E'BG8jXRmvau0CnJHlGT3v', "last_request_at" = '2009-10-14 07:20:19.423245' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3079ms (View: 1069, DB: 40) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:21:09) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (8.7ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (6.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
Rendered postings/_posting (9.3ms)
Rendered postings/_posting (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5))[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (4.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 07:21:11.847950', "perishable_token" = E'pDXU728F4S_33VJSbmFm', "last_request_at" = '2009-10-14 07:21:11.845850' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 2840ms (View: 1038, DB: 22) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:32:54) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (6.4ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:32:57.683041', "perishable_token" = E'_oZMul5FEgmuZjw2KG6O', "last_request_at" = '2009-10-14 07:32:57.681256' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 3528ms (View: 1123, DB: 18) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:34:30) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (6.1ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.5ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.7ms)
Rendered postings/_posting (2.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 07:34:33.895476', "perishable_token" = E'T42gER9p8mOON8ad5t2i', "last_request_at" = '2009-10-14 07:34:33.892144' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3157ms (View: 1172, DB: 17) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:34:41) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (6.2ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.5ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (6.3ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:34:44.868050', "perishable_token" = E'4DqXfoM7q37erFLAmQs0', "last_request_at" = '2009-10-14 07:34:44.866219' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3220ms (View: 1079, DB: 20) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:34:52) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.5ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.7ms)
Rendered postings/_posting (4.7ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (4.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 07:34:55.408110', "perishable_token" = E'DSYZLBBJiXgKEe0JJcs1', "last_request_at" = '2009-10-14 07:34:55.405929' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3246ms (View: 1134, DB: 48) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:43:51) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (5.4ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (9.5ms)
Rendered postings/_posting (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (19.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:43:54.847964', "perishable_token" = E'R8rNOZ5BHOT1znT8WSSI', "last_request_at" = '2009-10-14 07:43:54.846176' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 4095ms (View: 1169, DB: 35) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:44:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (7.9ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:44:21.088995', "perishable_token" = E'ERppZqhsDhGy2h_z0pRh', "last_request_at" = '2009-10-14 07:44:21.086190' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 1868ms (View: 298, DB: 11) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:45:22) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"14 Chugunny spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: 14 Chugunny spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>14 Chugunny spb</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: 14 Chugunny spb
Geocoder.us geocoding. Address: 14 Chugunny spb. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: 14 Chugunny spb

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (127.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:45:30) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"14 Chugunny spb", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
Google geocoding. Address: 14 Chugunny spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>14 Chugunny spb</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: 14 Chugunny spb

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (90.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (11.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:45:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.7ms)
Rendered postings/_posting (3.2ms)
Rendered postings/_posting (2.3ms)
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:45:44.166004', "perishable_token" = E'RHL3PY5oiqbDmCFVoSzV', "last_request_at" = '2009-10-14 07:45:44.164193' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 1598ms (View: 125, DB: 23) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:45:55) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (11.3ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.3ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.2ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (3.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 07:46:00.219884', "perishable_token" = E'9mMQ5VBxspcLZmo6ffzb', "last_request_at" = '2009-10-14 07:46:00.217987' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 4650ms (View: 1804, DB: 564) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;35;1mSQL (0.9ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:46:14) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"14 Chugunny spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: 14 Chugunny spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>14 Chugunny spb</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: 14 Chugunny spb
Geocoder.us geocoding. Address: 14 Chugunny spb. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: 14 Chugunny spb

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (84.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (8.6ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:46:29) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"dfdgdfgdfgdfg dfgfg sd", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: dfdgdfgdfgdfg dfgfg sd. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>dfdgdfgdfgdfg dfgfg sd</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: dfdgdfgdfgdfg dfgfg sd
Geocoder.us geocoding. Address: dfdgdfgdfgdfg dfgfg sd. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: dfdgdfgdfgdfg dfgfg sd

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (129.6ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 11:46:44) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.4ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.9ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (6.9ms)
Rendered postings/_posting (5.2ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (2.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 07:46:47.864478', "perishable_token" = E'xKJA6p7orkJ3iUFR4otC', "last_request_at" = '2009-10-14 07:46:47.860319' WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 3771ms (View: 1472, DB: 21) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:42:14) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (10.5ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.2ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.5ms)
Rendered postings/_posting (6.1ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (3.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (2.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 08:42:18.632936', "perishable_token" = E'YKcd3B2txHK4P9NbsPt6', "last_request_at" = '2009-10-14 08:42:18.631113' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 4365ms (View: 1878, DB: 25) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:42:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (2.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.4ms)
Rendered postings/_posting (2.5ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (2.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1978ms (View: 114, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:42:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (119.9ms)
Rendered postings/_posting (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1781ms (View: 240, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:43:11) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (5.5ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (8.2ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (3.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 08:43:15.384124', "perishable_token" = E'YOvpVMb26hSHv_ItXQs6', "last_request_at" = '2009-10-14 08:43:15.382330' WHERE "id" = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 3952ms (View: 1664, DB: 20) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:43:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.7ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (4.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (8.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.9ms)
Rendered postings/_posting (2.3ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1775ms (View: 274, DB: 15) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:44:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (23.2ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1810ms (View: 189, DB: 14) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:44:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.8ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.7ms)
Rendered postings/_posting (4.0ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1614ms (View: 200, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:46:11) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (14.9ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.2ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (16.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.2ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 08:46:15.105438', "perishable_token" = E'ojYSSaRjfVfKXS5IKFN8', "last_request_at" = '2009-10-14 08:46:15.103609' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 3880ms (View: 1713, DB: 40) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:46:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (5.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1620ms (View: 110, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:47:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (30.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (6.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1727ms (View: 243, DB: 39) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:47:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (60.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1736ms (View: 185, DB: 10) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:49:37) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (7.3ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.0ms)
Rendered postings/_posting (2.0ms)
Google geocoding. Address: chugunnaya 14 spb. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>chugunnaya 14 spb</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, 194044, St Petersburg, Chugunnaya ulitsa, 14</address>
    <AddressDetails Accuracy="6" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Калининский Адм. район</SubAdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName><DependentLocality><DependentLocalityName>Финляндский</DependentLocalityName><Thoroughfare><ThoroughfareName>Chugunnaya ulitsa, 14</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>194044</PostalCodeNumber></PostalCode></DependentLocality></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="59.9753947" south="59.9690995" east="30.3555645" west="30.3492693" />
    </ExtendedData>
    <Point><coordinates>30.3524169,59.9722471,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.9288761441439 AND locations.lat<60.0156180558561 AND locations.lng>30.2657477405232 AND locations.lng<30.4390860594768)) AND (
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04671317171462)*COS(0.529749610842971)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04671317171462)*SIN(0.529749610842971)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04671317171462)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (5.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 08:49:40.702732', "perishable_token" = E'H7pgOwU08nIQDCf_zUwt', "last_request_at" = '2009-10-14 08:49:40.700604' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 3449ms (View: 1400, DB: 22) | 200 OK [http://localhost/postings?origin=chugunnaya+14+spb&within=3&commit=Search]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:49:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (27.6ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.2ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1675ms (View: 122, DB: 37) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:49:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1704ms (View: 115, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:50:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.7ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1739ms (View: 273, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:51:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (5.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1696ms (View: 150, DB: 15) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:52:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (3.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (3.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.4ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.1ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1620ms (View: 109, DB: 17) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:52:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.6ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 2240ms (View: 267, DB: 17) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 12:53:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.8ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1655ms (View: 126, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:29:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.0ms)
Rendered postings/_posting (4.1ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 2390ms (View: 116, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:29:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.1ms)
Rendered postings/_posting (4.8ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1775ms (View: 233, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:32:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.9ms)
Rendered postings/_posting (6.2ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3940ms (View: 126, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:32:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during GeoPluginGeocoder geocoding call: Connection refused - connect(2)
  [4;36;1mPosting Load (1.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (4.1ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 1279ms (View: 115, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:35:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.9ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4043ms (View: 114, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:35:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.1ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.2ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3951ms (View: 115, DB: 18) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:35:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (11.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (23.7ms)
Rendered postings/_posting (11.5ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (12.6ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (3.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4291ms (View: 457, DB: 39) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:39:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.7ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.7ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (119.2ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (2.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4147ms (View: 230, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:39:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.7ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (4.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3976ms (View: 123, DB: 11) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:42:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;36;1mPosting Load (2.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.6ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.8ms)
Rendered postings/_posting (3.7ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (5.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4081ms (View: 109, DB: 22) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (5.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:42:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.8ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (4.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3969ms (View: 110, DB: 21) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (6.6ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:42:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.8ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3974ms (View: 230, DB: 23) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:43:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;36;1mPosting Load (4.6ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (116.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.7ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (3.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.1ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3946ms (View: 236, DB: 15) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:43:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.4ms)
Rendered postings/_posting (3.7ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3951ms (View: 125, DB: 10) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:45:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.4ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (4.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3894ms (View: 137, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:45:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;36;1mPosting Load (3.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.7ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3975ms (View: 227, DB: 16) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:46:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.6ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (3.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.1ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (3.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4038ms (View: 293, DB: 17) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:46:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (6.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.6ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.3ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3935ms (View: 150, DB: 20) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:46:43) [GET]
  Parameters: {"action"=>"index", "origin"=>"chugunnaya 14 spb", "controller"=>"postings"}
Locale set to 'en-US'
Geocoder.us geocoding. Address: chugunnaya 14 spb. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: chugunnaya 14 spb

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (84.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:46:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (4.7ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (29.2ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (12.4ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (25.8ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (12.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2009-10-14 09:47:02.042145', "perishable_token" = E'clx8CU6i0l3-HOn2iktw', "last_request_at" = '2009-10-14 09:47:02.040123' WHERE "id" = 2[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 4084ms (View: 223, DB: 58) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (1.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:47:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (4.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.0ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3918ms (View: 234, DB: 20) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:49:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.2ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (120.8ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.6ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4023ms (View: 235, DB: 12) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:50:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.5ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (2.6ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3944ms (View: 173, DB: 14) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:53:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.1ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.5ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4043ms (View: 117, DB: 14) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:53:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (2.8ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3905ms (View: 224, DB: 13) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:53:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.9ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.5ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (121.8ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (2.7ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3937ms (View: 231, DB: 18) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:56:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (1.3ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.1ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4267ms (View: 124, DB: 11) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:58:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.8ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.1ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3967ms (View: 117, DB: 18) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:59:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (8.5ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.9ms)
Rendered postings/_posting (3.0ms)
Rendered postings/_posting (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.2ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3946ms (View: 232, DB: 19) | 200 OK [http://localhost/postings]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 13:59:58) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (7.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (3.3ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (7.5ms)
Rendered postings/_posting (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5525ms (View: 1077, DB: 17) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:00:41) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.5ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (16.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.0ms)
Rendered postings/_posting (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 6254ms (View: 1588, DB: 30) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:00:53) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (8.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.6ms)
Rendered postings/_posting (2.3ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5563ms (View: 1280, DB: 14) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:09:41) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.6ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.4ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5661ms (View: 1054, DB: 18) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:09:48) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.4ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (7.4ms)
Rendered postings/_posting (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5384ms (View: 1219, DB: 12) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:10:42) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.9ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.4ms)
Rendered postings/_posting (2.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5349ms (View: 1094, DB: 15) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:10:47) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (7.3ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (2.8ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.3ms)
Rendered postings/_posting (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5415ms (View: 1068, DB: 15) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:11:25) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.7ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (2.6ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (9.3ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5228ms (View: 1056, DB: 16) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:12:12) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (5.3ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.0ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (7.2ms)
Rendered postings/_posting (2.2ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5431ms (View: 1211, DB: 13) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:13:05) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (7.4ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (7.8ms)
Rendered postings/_posting (6.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5573ms (View: 1171, DB: 13) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:13:11) [GET]
  Parameters: {"commit"=>"Search", "within"=>"10", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPosting Load Including Associations (10.2ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (0.9ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.2ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.7944691471464 AND locations.lat<60.0836088528536 AND locations.lng>30.0271788206513 AND locations.lng<30.6043911793487)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5469ms (View: 1196, DB: 17) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=10&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-14 14:16:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Locale set to 'en-US'
Rendering template within layouts/application
Rendering home/index
Completed in 1175ms (View: 124, DB: 13) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:16:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (3.4ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.7ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3931ms (View: 243, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:17:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.9ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (120.8ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (14.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4059ms (View: 297, DB: 26) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (3.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:17:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.8ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (3.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (2.1ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3954ms (View: 121, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:19:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (2.8ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4226ms (View: 115, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:21:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.5ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (3.3ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3912ms (View: 226, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:21:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.4ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.6ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3945ms (View: 120, DB: 11) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:21:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (11.8ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (24.8ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (3.1ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3980ms (View: 215, DB: 25) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (1.6ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:22:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (3.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (2.7ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (31.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.5ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4024ms (View: 144, DB: 47) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:22:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (4.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3931ms (View: 226, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.6ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:23:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (5.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.6ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (3.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3867ms (View: 234, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:23:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (4.6ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.7ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (2.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3996ms (View: 118, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:23:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.6ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (2.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (3.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3833ms (View: 118, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:23:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.0ms)
Rendered postings/_posting (4.4ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (2.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3955ms (View: 116, DB: 13) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (15.8ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:25:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (4.5ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.8ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (3.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3907ms (View: 226, DB: 37) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:25:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (6.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.9ms)
Rendered postings/_posting (4.0ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3896ms (View: 224, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:29:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (10.5ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4091ms (View: 133, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:29:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.1ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3846ms (View: 120, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:29:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.1ms)
Rendered postings/_posting (1.8ms)
Rendered postings/_posting (5.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3999ms (View: 118, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:29:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.7ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.2ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4117ms (View: 258, DB: 18) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:30:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (3.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.0ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (3.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4397ms (View: 227, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:30:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (1.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (4.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3977ms (View: 116, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:30:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (12.4ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (2.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3893ms (View: 114, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.9ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:30:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (9.7ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (5.2ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3890ms (View: 117, DB: 20) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:30:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.2ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3978ms (View: 288, DB: 13) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:32:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (4.7ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.9ms)
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (3.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.2ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3950ms (View: 249, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (1.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:56:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.5ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (3.6ms)
Rendered postings/_posting (2.3ms)
Completed in 4347ms (View: 144, DB: 15) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (2.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:56:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (4.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (3.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
Completed in 3845ms (View: 130, DB: 18) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:57:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (5.2ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (2.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (3.5ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (2.2ms)
Completed in 4059ms (View: 271, DB: 19) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:57:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (2.4ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (6.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (4.5ms)
Completed in 4209ms (View: 277, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:58:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.5ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (3.8ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (5.6ms)
Completed in 3832ms (View: 131, DB: 13) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:58:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (3.3ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (4.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
Completed in 4067ms (View: 124, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:59:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.1ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (2.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (2.1ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.8ms)
Completed in 3847ms (View: 251, DB: 26) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (9.7ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:59:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (6.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (3.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (4.1ms)
Rendered postings/_posting (5.6ms)
Rendered postings/_posting (2.4ms)
Completed in 3977ms (View: 245, DB: 30) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 14:59:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (5.6ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.4ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (2.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (7.4ms)
Rendered postings/_posting (2.3ms)
Rendered postings/_posting (1.9ms)
Completed in 3939ms (View: 134, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:00:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (4.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mLocation Load (1.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (2.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (6.1ms)
Completed in 4170ms (View: 137, DB: 14) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (2.0ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:01:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.4ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (4.7ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (3.1ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4011ms (View: 261, DB: 21) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:01:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
Caught an error during HostIp geocoding call: syntax error on line 1, col 98: `<b>Warning</b>:  mysql_pconnect() [<a href='function.mysql-pconnect'>function.mysql-pconnect</a>]: Too many connections in <b>/home/hostip/public_html/lib/svn_php/dbase.php</b> on line <b>12</b><br />'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (11.0ms)
Rendered postings/_posting (1.9ms)
Rendered postings/_posting (2.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.9ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3927ms (View: 135, DB: 12) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:02:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (7.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.3ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (1.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3871ms (View: 138, DB: 16) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:03:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.4ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.0ms)
Rendered postings/_posting (3.6ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (1.0ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:03:23.405670', "perishable_token" = E'QFxcgPO627ubgC2JJwjM', "last_request_at" = '2009-10-14 11:03:23.403853' WHERE "id" = 2[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 3991ms (View: 263, DB: 23) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:05:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.3ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (5.2ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.9ms)
Rendered postings/_posting (9.1ms)
Rendered postings/_posting (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4067ms (View: 333, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:06:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (2.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (7.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (2.2ms)
Rendered postings/_posting (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (6.0ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.9ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3943ms (View: 129, DB: 19) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:07:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.8ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (2.8ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.2ms)
Rendered postings/_posting (7.6ms)
Rendered postings/_posting (2.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (5.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:07:22.551353', "perishable_token" = E'eRrMNmgJex6FEaew8a9O', "last_request_at" = '2009-10-14 11:07:22.548974' WHERE "id" = 2[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCOMMIT[0m
Completed in 4349ms (View: 190, DB: 25) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:21:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (5.9ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.1ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (13.3ms)
Rendered postings/_posting (2.5ms)
Rendered postings/_posting (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (2.6ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 4326ms (View: 276, DB: 17) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:21:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;35;1mPosting Load (3.2ms)[0m   [0mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (2.2ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendered postings/_posting (16.5ms)
Rendered postings/_posting (2.4ms)
Rendered postings/_posting (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.4ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
Completed in 3835ms (View: 250, DB: 26) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:22:08) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (5.4ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (8.6ms)
Rendered postings/_posting (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Completed in 5680ms (View: 1103, DB: 12) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:23:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"postings"}
Locale set to 'en-US'
  [4;36;1mPosting Load (3.8ms)[0m   [0;1mSELECT * FROM "postings"[0m
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (0.9ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (5.1ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
Rendered postings/_posting (8.9ms)
Rendered postings/_posting (3.9ms)
Rendered postings/_posting (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "postings"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "postings"[0m
  [4;36;1mLocation Load (1.5ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 9 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mLocation Load (0.8ms)[0m   [0mSELECT * FROM "locations" WHERE ("locations".locatable_id = 8 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;36;1mLocation Load (0.8ms)[0m   [0;1mSELECT * FROM "locations" WHERE ("locations".locatable_id = 10 AND "locations".locatable_type = E'Posting') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:23:05.624502', "perishable_token" = E'ehXvrmpGR76C52ywY0wi', "last_request_at" = '2009-10-14 11:23:05.622317' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 4001ms (View: 280, DB: 22) | 200 OK [http://localhost/postings]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:23:28) [GET]
  Parameters: {"commit"=>"Search", "within"=>"3", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (4.8ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (3.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8956680441439 AND locations.lat<59.9824099558561 AND locations.lng>30.2292026470325 AND locations.lng<30.4023673529675)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (5.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:23:34.160818', "perishable_token" = E'a087j9Wq6SSP4B2X5iqJ', "last_request_at" = '2009-10-14 11:23:34.158996' WHERE "id" = 2[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Completed in 6037ms (View: 1796, DB: 21) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=3&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:23:42) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (8.9ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (5.6ms)
Rendered postings/_posting (1.8ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:23:48.298670', "perishable_token" = E'jZ-H-8fODotEHZ5cCP6m', "last_request_at" = '2009-10-14 11:23:48.296706' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 6063ms (View: 1879, DB: 23) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:25:33) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (7.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (3.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (1.0ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (19.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (9.7ms)
Rendered postings/_posting (2.4ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:25:39.498444', "perishable_token" = E'F7tDp4pex3t2npJKgOnT', "last_request_at" = '2009-10-14 11:25:39.496604' WHERE "id" = 2[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 6294ms (View: 1878, DB: 19) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:29:10) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia, chugunny", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia, chugunny. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia, chugunny</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: spb, russia, chugunny
Geocoder.us geocoding. Address: spb, russia, chugunny. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: spb, russia, chugunny

Geokit::Geocoders::GeocodeError (Geokit::Geocoders::GeocodeError):
  geokit (1.5.0) lib/geokit/mappable.rb:282:in `normalize'
  app/controllers/postings_controller.rb:28:in `current_objects'
  haml (2.0.6) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (82.3ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:34:52) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia, chugunny", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia, chugunny. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia, chugunny</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: spb, russia, chugunny
Geocoder.us geocoding. Address: spb, russia, chugunny. Result: 2: couldn't find this address! sorry
geocoder.us was unable to geocode address: spb, russia, chugunny
Rendering template within layouts/application
Rendering postings/index
  [4;35;1mCategory Load (2.1ms)[0m   [0mSELECT * FROM "categories"[0m
  [4;36;1mPostingType Load (1.4ms)[0m   [0;1mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: spb, russia, chugunny. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia, chugunny</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: spb, russia, chugunny
Google geocoding. Address: spb, russia, chugunny. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia, chugunny</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: spb, russia, chugunny
Google geocoding. Address: spb, russia, chugunny. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia, chugunny</name>
  <Status>
    <code>602</code>
    <request>geocode</request>
  </Status>
</Response></kml>
Google was unable to geocode address: spb, russia, chugunny
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:35:07.384411', "perishable_token" = E'zCGxCw7jgVEtW3sCbDt0', "last_request_at" = '2009-10-14 11:35:07.382606' WHERE "id" = 2[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
Completed in 15516ms (View: 10283, DB: 14) | 200 OK [http://localhost/postings?origin=spb%2C+russia%2C+chugunny&within=5&commit=Search]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing PostingsController#index (for 127.0.0.1 at 2009-10-14 15:36:10) [GET]
  Parameters: {"commit"=>"Search", "within"=>"5", "action"=>"index", "origin"=>"spb, russia", "controller"=>"postings"}
Locale set to 'en-US'
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPosting Load Including Associations (5.9ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendering template within layouts/application
Rendering postings/index
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "categories"[0m
  [4;35;1mPostingType Load (0.9ms)[0m   [0mSELECT * FROM "posting_types"[0m
Rendered postings/_search_form (1.9ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Rendered postings/_posting (6.0ms)
Rendered postings/_posting (2.0ms)
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
Google geocoding. Address: spb, russia. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>spb, russia</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Russian Federation, St Petersburg</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>RU</CountryNameCode><CountryName>Russian Federation</CountryName><AdministrativeArea><AdministrativeAreaName>St Petersburg</AdministrativeAreaName><Locality><LocalityName>St Petersburg</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="60.2948277" south="59.5793916" east="31.3402601" west="29.2913099" />
    </ExtendedData>
    <Point><coordinates>30.3157850,59.9390390,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "postings"."id" AS t0_r0, "postings"."title" AS t0_r1, "postings"."description" AS t0_r2, "postings"."user_id" AS t0_r3, "postings"."posting_type_id" AS t0_r4, "postings"."category_id" AS t0_r5, "postings"."created_at" AS t0_r6, "postings"."updated_at" AS t0_r7, "postings"."photo_file_name" AS t0_r8, "postings"."photo_content_type" AS t0_r9, "postings"."photo_file_size" AS t0_r10, "postings"."photo_updated_at" AS t0_r11, "locations"."id" AS t1_r0, "locations"."locatable_type" AS t1_r1, "locations"."locatable_id" AS t1_r2, "locations"."lat" AS t1_r3, "locations"."lng" AS t1_r4, "locations"."country" AS t1_r5, "locations"."state" AS t1_r6, "locations"."city" AS t1_r7, "locations"."address_line" AS t1_r8, "locations"."created_at" AS t1_r9, "locations"."updated_at" AS t1_r10 FROM "postings" LEFT OUTER JOIN "locations" ON "locations".locatable_id = "postings".id AND "locations".locatable_type = E'Posting'WHERE (((locations.lat>59.8667540735732 AND locations.lat<60.0113239264268 AND locations.lng>30.1714812246637 AND locations.lng<30.4600887753363)) AND (
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) ORDER BY 
 (ACOS(least(1,COS(1.04613358103129)*COS(0.529110263576709)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(1.04613358103129)*SIN(0.529110263576709)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(1.04613358103129)*SIN(RADIANS(locations.lat))))*3963.19)[0m
  [4;35;1mUser Load (5.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'2') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2009-10-14 11:36:16.021282', "perishable_token" = E'NxPOpX-DQfBdMzBM3X80', "last_request_at" = '2009-10-14 11:36:16.019303' WHERE "id" = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 6040ms (View: 1850, DB: 26) | 200 OK [http://localhost/postings?origin=spb%2C+russia&within=5&commit=Search]
